(function(e){function t(t){for(var a,s,c=t[0],o=t[1],l=t[2],d=0,m=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,c=1;c<r.length;c++){var o=r[c];0!==n[o]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},i=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0a51":function(e,t,r){},"0b13":function(e,t,r){"use strict";r("f68d")},"284a":function(e,t,r){"use strict";r("4944")},"2bbf":function(e,t,r){},"2bce":function(e,t,r){},"2c46":function(e,t,r){e.exports=r.p+"img/delete.fad23f3b.svg"},3090:function(e,t,r){"use strict";r("6c2f")},"33bb":function(e,t,r){"use strict";r("ce4f")},"35fe":function(e,t,r){e.exports=r.p+"img/next.f854b759.svg"},3844:function(e,t,r){},4944:function(e,t,r){},"4a40":function(e,t,r){},5258:function(e,t,r){"use strict";r("4a40")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("d3b7"),r("159b"),r("b0c0");var a=r("2b0e"),n=r("1dce"),i=r.n(n),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("app-header"),r("main-content")],1)},c=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[e._m(0),r("div",{staticClass:"header__title"},[e._v("Budget")]),r("div",{staticClass:"header__date"},[e._v(e._s(e.getDate))])])},l=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header__btn"},[r("div"),r("div"),r("div")])}],u=(r("99af"),{name:"AppHeader",computed:{getDate:function(){var e=new Date;return"".concat(e.getDate()," ").concat(this.convertMonth(e.getMonth())," ").concat(e.getFullYear())}},methods:{convertMonth:function(e){var t="";switch(e){case 0:t="Января";break;case 1:t="Февраля";break;case 2:t="Марта";break;case 3:t="Апреля";break;case 4:t="Мая";break;case 5:t="Июня";break;case 6:t="Июля";break;case 7:t="Августа";break;case 8:t="Сентября";break;case 9:t="Октября";break;case 10:t="Ноября";break;case 11:t="Декабря";break;default:t="Января";break}return t}}}),d=u,m=(r("7b0e"),r("2877")),p=Object(m["a"])(d,o,l,!1,null,null,null),v=p.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"inner"},[r("div",{staticClass:"inner__left"},[r("div",{staticClass:"menu",on:{click:e.menuListener}},[r("div",{staticClass:"menu__item active",attrs:{"data-id":"balance"}},[e._v("Баланс")]),r("div",{staticClass:"menu__item",attrs:{"data-id":"record"}},[e._v("Записи")]),r("div",{staticClass:"menu__item",attrs:{"data-id":"kat"}},[e._v("Категории")]),r("div",{staticClass:"menu__item",attrs:{"data-id":"bills"}},[e._v("Счета")]),r("div",{staticClass:"menu__item",attrs:{"data-id":"currency"}},[e._v("Валюты")])])]),r("div",{staticClass:"inner__right"},[r("div",{staticClass:"content"},[r("div",{directives:[{name:"show",rawName:"v-show",value:"balance"==e.menuId,expression:"menuId == 'balance'"}],staticClass:"content-item"},[r("balance-handler")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"record"==e.menuId,expression:"menuId == 'record'"}],staticClass:"content-item"},[r("record-handler")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"kat"==e.menuId,expression:"menuId == 'kat'"}],staticClass:"content-item"},[r("category-handler")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"bills"==e.menuId,expression:"menuId == 'bills'"}],staticClass:"content-item"},[r("bill-handler")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"currency"==e.menuId,expression:"menuId == 'currency'"}],staticClass:"content-item"},[r("currency-handler")],1)])]),r("app-loader",{attrs:{isShow:e.isLoader}})],1)},h=[],b=r("1da1"),g=r("5530"),y=(r("96cf"),r("2f62")),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler statistic"},[e._m(0),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Данных пока нет")]):r("table",[r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Название")]),r("th",[e._v("Валюта")]),r("th",[e._v("Нач. баланс")]),r("th",[e._v("Доход")]),r("th",[e._v("Расход")]),r("th",[e._v("Сумма")]),r("th",[e._v("Сумма в "+e._s(e.mainCurrencySymbol))])])]),r("tbody",e._l(e.statisticList,(function(t){return r("tr",{key:t.id},[r("td",[e._v(e._s(t.id))]),r("td",[e._v(e._s(t.name))]),r("td",[e._v(e._s(t.currency))]),r("td",[e._v(e._s(t.startBalance))]),r("td",[e._v(e._s(t.income))]),r("td",[e._v(e._s(t.outcome))]),r("td",[e._v(e._s(t.total))]),r("td",[e._v(e._s(t.inUsd))])])})),0)])]),r("main-currency-handler",{on:{changeCurrency:e.changeMainCurrency}}),r("div",{staticClass:"main"})],1)])},C=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Баланс по Счетам")])])}],x=(r("4de4"),r("b680"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-currency"},[a("div",{staticClass:"main-currency__title"},[e._v("В качестве основной валюты выбран "+e._s(e.mainCurrency.symbol))]),a("div",{staticClass:"main-currency__btn",on:{click:function(t){e.formActive=!e.formActive}}},[a("span",[e._v(e._s(e.buttonText))]),a("img",{class:{active:e.formActive},attrs:{src:r("c3d4"),alt:""}})])]),a("form",{class:{done:!e.formActive},on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[a("div",{staticClass:"row"},[e._m(0),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedOption=t.target.multiple?r:r[0]}}},e._l(e.getAllCurrencies,(function(t){return a("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.title)+" ")])})),0)]),a("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ПОДТВЕРДИТЬ ")])])])}),w=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Выберете валюту")]),r("span",{staticClass:"error show"})])}],k={name:"MainCurrencyHandler",computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllCurrencies"])),{},{buttonText:function(){return this.formActive?"Скрыть":"Изменить"}}),data:function(){return{mainCurrency:{symbol:"USD"},selectedOption:{},formActive:!1}},methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["putCurrencyById"])),{},{formHandler:function(){this.mainCurrency=this.selectedOption,this.$emit("changeCurrency",this.mainCurrency.symbol),this.formActive=!1}})},E=k,R=(r("a78d"),Object(m["a"])(E,x,w,!1,null,"c29272b8",null)),B=R.exports,j={components:{MainCurrencyHandler:B},name:"BalanceHandler",computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllRecords","getAllBills","getAllCurrencies","getCurrencyBySymbol"])),{},{statisticList:function(){var e=this,t=this.getAllBills,r=[];return t.forEach((function(t){return r.push(e.countOneBill(t))})),r},isEmptyList:function(){return 0===this.statisticList.length},selectedCurrencyPrice:function(){if("USD"==this.mainCurrencySymbol)return 1;var e=this.getCurrencyBySymbol(this.mainCurrencySymbol);return e.price?e.price:1}}),data:function(){return{mainCurrencySymbol:"USD"}},methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["getBillsData","getRecordsData","getCurrencyData","toggleLoader"])),{},{countOneBill:function(e){var t={id:e.id,name:e.name,currency:e.currency,startBalance:e.startBalance,income:0,outcome:0,total:0,inUsd:0},r=this.getAllRecords;return r.forEach((function(e){e.bill==t.name&&("Доход"==e.type?t.income+=+e.sum:t.outcome+=+e.sum)})),t.total=+t.startBalance+t.income-t.outcome,t.inUsd=this.countInSelectedCurrency(t.currency,t.total,this.selectedCurrencyPrice),t},countInSelectedCurrency:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=this.getAllCurrencies,n=a.filter((function(t){return t.symbol==e}));if(n.length>0){var i=n[0].price;return(t/i*r).toFixed(2)}return 0},changeMainCurrency:function(e){this.mainCurrencySymbol=e}})},O=j,S=Object(m["a"])(O,_,C,!1,null,"6bec2443",null),$=S.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler"},[r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Счета")]),r("create-button",{staticClass:"btn",on:{clickButton:e.showCreateModal}})],1),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"handler__content-form"},[r("modal",{attrs:{"modal-active":e.activeCreateModal},on:{hideModal:e.hideCreateModal}},[r("bill-create-form",{on:{hideForm:e.hideCreateModal}})],1)],1),r("bill-list")],1)])},F=[],D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Список счетов пуст")]):r("div",[r("table",[e._m(0),r("tbody",e._l(e.pageItems,(function(t){return r("bill-list-item",{key:t.id,attrs:{bill:t},on:{delete:e.deleteHandler,edit:e.editHandler}})})),1)]),r("pagination",{attrs:{"pages-amount":e.pageCount,page:e.page},on:{currentPage:e.updateList}})],1),r("modal",{attrs:{"modal-active":e.activeEditForm},on:{hideModal:e.hideEditForm}},[r("bill-edit-form",{attrs:{bill:e.target},on:{hideForm:e.hideEditForm}})],1),r("confirm-modal",{attrs:{show:e.activeConfirmForm},on:{result:e.deleteBill}})],1)},N=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Название")]),r("th",[e._v("Валюта")]),r("th",[e._v("Начальный баланс")]),r("th",[e._v("Действие")])])])}],P=r("2ef0"),I=r.n(P),q={data:function(){return{page:1,pageSize:10,pageCount:0,allItems:[],pageItems:[]}},methods:{setupPagination:function(e){this.allItems=I.a.chunk(e,this.pageSize),this.pageCount=I.a.size(this.allItems),this.pageItems=this.allItems[this.page-1]||this.allItems[0]}}},L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[e._v(e._s(e.bill.id))]),r("td",[e._v(e._s(e.bill.name))]),r("td",[e._v(e._s(e.bill.currency))]),r("td",[e._v(e._s(e.bill.startBalance))]),r("td",[r("div",{staticClass:"td-btn"},[r("edit-button",{staticClass:"edit__btn",on:{clickButton:e.editBill}}),r("delete-button",{staticClass:"remove__btn",on:{clickButton:e.confirm}})],1)])])},T=[],M={name:"BillListItem",props:{bill:{type:Object,required:!0}},computed:Object(g["a"])({},Object(y["c"])(["getConfirmResult"])),methods:Object(g["a"])(Object(g["a"])({},Object(y["d"])(["changePopupForm","setSelectedBill","setConfirmModalText"])),{},{editBill:function(){this.$emit("edit",this.bill)},confirm:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("delete",e.bill);case 1:case"end":return t.stop()}}),t)})))()}})},H=M,U=Object(m["a"])(H,L,T,!1,null,null,null),J=U.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Название")]),r("span",{staticClass:"error show"},[e._v(e._s(e.nameError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.name,expression:"candidate.name"}],attrs:{required:"",type:"text"},domProps:{value:e.candidate.name},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"name",t.target.value)},e.resetNameError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Валюта")]),r("span",{staticClass:"error show"},[e._v(e._s(e.currencyError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.currency,expression:"candidate.currency"}],attrs:{required:""},on:{input:e.resetCurrencyError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"currency",t.target.multiple?r:r[0])}}},e._l(e.getAllCurrencies,(function(t){return r("option",{key:t.id},[e._v(" "+e._s(t.symbol)+" ")])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Начальный баланс")]),r("span",{staticClass:"error"},[e._v(e._s(e.startBalanceError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.startBalance,expression:"candidate.startBalance"}],attrs:{type:"text"},domProps:{value:e.candidate.startBalance},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"startBalance",t.target.value)},e.resetStartBalanceError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},z=[],K=r("b5ae"),Z={data:function(){return{nameError:"",currencyError:"",startBalanceError:""}},validations:{candidate:{name:{required:K["required"],minLength:Object(K["minLength"])(3),maxLength:Object(K["maxLength"])(30)},currency:{required:K["required"]},startBalance:{integer:K["integer"]}}},methods:{checkFormData:function(){return this.$v.candidate.name.$dirty||this.$v.candidate.name.required?this.$v.candidate.name.$dirty||this.$v.candidate.name.minLength?this.$v.candidate.name.$dirty||this.$v.candidate.name.maxLength?this.nameError="":this.nameError="максимум 30 символа":this.nameError="минимум 3 символа":this.nameError="нет значения",this.$v.candidate.currency.$dirty||this.$v.candidate.currency.required?this.currencyError="":this.currencyError="нет значения",this.$v.candidate.startBalance.$dirty||this.$v.candidate.startBalance.integer?this.startBalance="":this.startBalanceError="только число",!(this.nameError||this.currencyError||this.startBalanceError)},resetNameError:function(){this.nameError=""},resetCurrencyError:function(){this.currencyError=""},resetStartBalanceError:function(){this.startBalanceError=""},resetForm:function(){this.candidate.name="",this.candidate.currency="",this.candidate.startBalance=0}}},G={name:"BillEditForm",mixins:[Z],props:{bill:{type:Object,required:!0}},computed:Object(g["a"])({},Object(y["c"])(["getAllCurrencies"])),data:function(){return{candidate:{id:1,name:"",currency:"",startBalance:0}}},methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["putBillById"])),{},{formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormData()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,candidate.startBalance||(candidate.startBalance=0),r={id:e.candidate.id,bill:{name:e.candidate.name,currency:e.candidate.currency,startBalance:e.candidate.startBalance}},t.next=7,e.putBillById(r);case 7:t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:return t.prev=11,e.$emit("hideForm",!0),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,9,11,14]])})))()}}),watch:{bill:function(){this.candidate=Object(g["a"])({},this.bill)}},mounted:function(){this.candidate=this.bill}},Q=G,V=Object(m["a"])(Q,Y,z,!1,null,"17852ee4",null),W=V.exports,X={components:{BillListItem:J,BillEditForm:W},mixins:[q],data:function(){return{target:{},activeConfirmForm:!1,activeEditForm:!1}},computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllBills"])),{},{isEmptyList:function(){return 0===this.getAllBills.length}}),methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["removeBillById"])),{},{updateList:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.page=e,r.next=3,t.setupPagination(t.getAllBills);case 3:case"end":return r.stop()}}),r)})))()},deleteBill:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e||!t.target.id){r.next=8;break}return r.prev=1,r.next=4,t.removeBillById(t.target.id);case 4:r.next=8;break;case 6:r.prev=6,r.t0=r["catch"](1);case 8:t.activeConfirmForm=!1,t.target={};case 10:case"end":return r.stop()}}),r,null,[[1,6]])})))()},editHandler:function(e){this.target=e,this.activeEditForm=!0},deleteHandler:function(e){this.target=e,this.activeConfirmForm=!0},hideEditForm:function(e){e&&(this.target={},this.activeEditForm=!1)}}),watch:{getAllBills:function(){this.setupPagination(this.getAllBills)}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setupPagination(e.getAllBills);case 2:case"end":return t.stop()}}),t)})))()}},ee=X,te=Object(m["a"])(ee,D,N,!1,null,"2b8c78ae",null),re=te.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"title"},[e._v("Новый Счет")]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Название")]),r("span",{staticClass:"error show"},[e._v(e._s(e.nameError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.name,expression:"candidate.name"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.name},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"name",t.target.value)},e.resetNameError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Валюта")]),r("span",{staticClass:"error"},[e._v(e._s(e.currencyError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.currency,expression:"candidate.currency"}],attrs:{required:""},on:{input:e.resetCurrencyError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"currency",t.target.multiple?r:r[0])}}},e._l(e.getAllCurrencies,(function(t){return r("option",{key:t.id},[e._v(" "+e._s(t.symbol)+" ")])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Начальный баланс")]),r("span",{staticClass:"error"},[e._v(e._s(e.startBalanceError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.startBalance,expression:"candidate.startBalance"}],attrs:{type:"text"},domProps:{value:e.candidate.startBalance},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"startBalance",t.target.value)},e.resetStartBalanceError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ДОБАВИТЬ ")])])])},ne=[],ie={name:"BillCreateForm",mixins:[Z],data:function(){return{candidate:{name:"",currency:"",startBalance:0}}},computed:Object(y["c"])(["getAllCurrencies"]),methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["addBill"])),{},{formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkFormData()){t.next=12;break}return e.candidate.startBalance||(e.candidate.startBalance=0),t.prev=2,t.next=5,e.addBill(e.candidate);case 5:t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](2);case 9:return t.prev=9,e.$emit("hideForm",!0),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[2,7,9,12]])})))()}}),watch:{getAllCurrencies:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.getAllCurrencies,0==r.length?e.currencyError="у вас нет валют":"у вас нет валют"===e.currencyError&&(e.currencyError="");case 2:case"end":return t.stop()}}),t)})))()}}},se=ie,ce=Object(m["a"])(se,ae,ne,!1,null,"beab7ffc",null),oe=ce.exports,le={name:"BillHandler",components:{BillList:re,BillCreateForm:oe},data:function(){return{activeCreateModal:!1}},methods:{showCreateModal:function(){this.activeCreateModal=!0},hideCreateModal:function(e){e&&(this.activeCreateModal=!1)}}},ue=le,de=Object(m["a"])(ue,A,F,!1,null,"71f2d899",null),me=de.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler"},[r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Категории")]),r("create-button",{staticClass:"btn",on:{clickButton:e.showCreateModal}})],1),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"handler__content-form"},[r("modal",{attrs:{"modal-active":e.activeCreateModal},on:{hideModal:e.hideCreateModal}},[r("category-create-form",{on:{hideForm:e.hideCreateModal}})],1)],1),r("category-list")],1)])},ve=[],fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Список категорий пуст")]):r("div",[r("table",{staticClass:"cate"},[e._m(0),r("tbody",e._l(e.pageItems,(function(t){return r("category-list-item",{key:t.id,attrs:{category:t},on:{edit:e.editHandler,delete:e.deleteHandler}})})),1)]),r("pagination",{attrs:{"pages-amount":e.pageCount,page:e.page},on:{currentPage:e.updateList}})],1),r("modal",{attrs:{"modal-active":e.activeEditForm},on:{hideModal:e.hideEditForm}},[r("category-edit-form",{attrs:{category:e.target},on:{hideForm:e.hideEditForm}})],1),r("confirm-modal",{attrs:{show:e.activeConfirmForm},on:{result:e.deleteCategory}})],1)},he=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Название")]),r("th",[e._v("Тип")]),r("th",{staticClass:"dd"},[e._v("Действие")])])])}],be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[e._v(e._s(e.category.id))]),r("td",[e._v(e._s(e.category.name))]),r("td",[e._v(e._s(e.category.type))]),r("td",{staticClass:"action"},[r("div",{staticClass:"td-btn"},[r("edit-button",{staticClass:"edit__btn",on:{clickButton:e.edit}}),r("delete-button",{staticClass:"remove__btn",on:{clickButton:e.confirm}})],1)])])},ge=[],ye={name:"CategoryListItem",props:{category:{type:Object,required:!0}},computed:Object(g["a"])({},Object(y["c"])(["getConfirmResult"])),methods:Object(g["a"])(Object(g["a"])({},Object(y["d"])(["changePopupForm","setSelectedCategory","setConfirmModalText"])),{},{edit:function(){this.$emit("edit",this.category)},confirm:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("delete",e.category);case 1:case"end":return t.stop()}}),t)})))()}})},_e=ye,Ce=Object(m["a"])(_e,be,ge,!1,null,null,null),xe=Ce.exports,we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Название")]),r("span",{staticClass:"error"},[e._v(e._s(e.nameError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.name,expression:"candidate.name"}],attrs:{required:"",type:"text"},domProps:{value:e.candidate.name},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"name",t.target.value)},e.resetNameError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Тип")]),r("span",{staticClass:"error"},[e._v(e._s(e.typeError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.type,expression:"candidate.type"}],attrs:{required:""},on:{input:e.resetTypeError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"type",t.target.multiple?r:r[0])}}},[r("option",[e._v("Доход")]),r("option",[e._v("Расход")])])]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},ke=[],Ee={data:function(){return{nameError:"",typeError:""}},validations:{candidate:{name:{required:K["required"],minLength:Object(K["minLength"])(3),maxLength:Object(K["maxLength"])(30)},type:{required:K["required"]}}},methods:{checkFormData:function(){return this.$v.candidate.name.$dirty||this.$v.candidate.name.required?this.$v.candidate.name.$dirty||this.$v.candidate.name.minLength?this.$v.candidate.name.$dirty||this.$v.candidate.name.maxLength?this.nameError="":this.nameError="максимум 30 символа":this.nameError="минимум 3 символа":this.nameError="нет значения",this.$v.candidate.type.$dirty||this.$v.candidate.type.required?this.typeError="":this.typeError="нет значения",!this.nameError&&!this.typeError},resetNameError:function(){this.nameError=""},resetTypeError:function(){this.typeError=""},resetForm:function(){this.candidate.name="",this.candidate.type=""}}},Re={name:"CategoryEditForm",mixins:[Ee],props:{category:{type:Object,required:!0}},data:function(){return{candidate:{id:0,name:"",type:""}}},methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["putCategoryById"])),{},{formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormData()){t.next=2;break}return t.abrupt("return");case 2:return r={id:e.candidate.id,category:{name:e.candidate.name,type:e.candidate.type}},t.next=5,e.putCategoryById(r);case 5:e.$emit("hideForm",!0);case 6:case"end":return t.stop()}}),t)})))()}}),watch:{category:function(){this.candidate=Object(g["a"])({},this.category)}},mounted:function(){this.candidate=Object(g["a"])({},this.category)}},Be=Re,je=Object(m["a"])(Be,we,ke,!1,null,"92d854e2",null),Oe=je.exports,Se={name:"CategoryList",components:{CategoryListItem:xe,CategoryEditForm:Oe},mixins:[q],data:function(){return{target:{},activeConfirmForm:!1,activeEditForm:!1}},computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllCategories"])),{},{isEmptyList:function(){return 0===this.getAllCategories.length}}),methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["getCategoriesData","removeCategoryById"])),{},{updateList:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.page=e,r.next=3,t.setupPagination(t.getAllCategories);case 3:case"end":return r.stop()}}),r)})))()},deleteCategory:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e||!t.target.id){r.next=12;break}return r.prev=1,r.next=4,t.removeCategoryById(t.target.id);case 4:r.next=8;break;case 6:r.prev=6,r.t0=r["catch"](1);case 8:return r.prev=8,t.activeConfirmForm=!1,t.target={},r.finish(8);case 12:case"end":return r.stop()}}),r,null,[[1,6,8,12]])})))()},editHandler:function(e){this.target=e,this.activeEditForm=!0},deleteHandler:function(e){this.target=e,this.activeConfirmForm=!0},hideEditForm:function(e){e&&(this.target={},this.activeEditForm=!1)}}),watch:{getAllCategories:function(){this.setupPagination(this.getAllCategories)}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setupPagination(e.getAllCategories);case 2:case"end":return t.stop()}}),t)})))()}},$e=Se,Ae=Object(m["a"])($e,fe,he,!1,null,"1a40ae12",null),Fe=Ae.exports,De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"title"},[e._v("Добавить Категорию")]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Название")]),r("span",{staticClass:"error"},[e._v(e._s(e.nameError))])]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.candidate.name,expression:"candidate.name",modifiers:{trim:!0}}],attrs:{required:"",type:"text"},domProps:{value:e.candidate.name},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"name",t.target.value.trim())},e.resetNameError],blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Тип")]),r("span",{staticClass:"error"},[e._v(e._s(e.typeError))])]),r("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.candidate.type,expression:"candidate.type",modifiers:{trim:!0}}],staticClass:"category-form__type form-row",attrs:{required:""},on:{input:e.resetTypeError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:"Доход"}},[e._v("Доход")]),r("option",{attrs:{value:"Расход"}},[e._v("Расход")])])]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ДОБАВИТЬ ")])])])},Ne=[],Pe={name:"CreateCategoryForm",mixins:[Ee],data:function(){return{candidate:{name:"",type:""}}},methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["addCategory"])),{},{formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkFormData()){t.next=4;break}return t.next=3,e.addCategory(e.candidate);case 3:e.$emit("hideForm",!0);case 4:case"end":return t.stop()}}),t)})))()}})},Ie=Pe,qe=Object(m["a"])(Ie,De,Ne,!1,null,"149a7a04",null),Le=qe.exports,Te={components:{CategoryCreateForm:Le,CategoryList:Fe},name:"CategoryHandler",data:function(){return{activeCreateModal:!1}},methods:{showCreateModal:function(){this.activeCreateModal=!0},hideCreateModal:function(e){e&&(this.activeCreateModal=!1)}}},Me=Te,He=Object(m["a"])(Me,pe,ve,!1,null,"9758d1ba",null),Ue=He.exports,Je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler"},[r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Валюты")]),r("create-button",{staticClass:"btn",on:{clickButton:e.showCreateModal}})],1),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"handler__content-form"},[r("modal",{attrs:{"modal-active":e.activeCreateModal},on:{hideModal:e.hideCreateModal}},[r("currency-create-form",{on:{hideForm:e.hideCreateModal}})],1)],1),r("currency-list")],1)])},Ye=[],ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-form"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[a("div",{staticClass:"title"},[e._v("Добавить Валюту")]),a("div",{staticClass:"row"},[e._m(0),a("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.symbol,expression:"candidate.symbol"}],attrs:{required:""},on:{input:e.selectCurrencyHandler,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"symbol",t.target.multiple?r:r[0])}}},e._l(e.getAvailableCurrenceis,(function(t){return a("option",{key:t.symbol,domProps:{value:t.symbol}},[e._v(" "+e._s(t.symbol)+" "+e._s(t.name)+" ")])})),0)]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Код")]),a("span",{staticClass:"error show"},[e._v(e._s(e.symbolError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.symbol,expression:"candidate.symbol"}],attrs:{type:"text",required:"",disabled:""},domProps:{value:e.candidate.symbol},on:{input:function(t){t.target.composing||e.$set(e.candidate,"symbol",t.target.value)}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Название")]),a("span",{staticClass:"error show"},[e._v(e._s(e.titleError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.title,expression:"candidate.title"}],attrs:{required:"",type:"text"},domProps:{value:e.candidate.title},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"title",t.target.value)},e.resetTitleError]}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Курс к 1USD")]),a("span",{staticClass:"error show"},[e._v(e._s(e.rateError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.price,expression:"candidate.price"}],attrs:{required:"",type:"text",disabled:e.isMainCurrency},domProps:{value:e.candidate.price},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"price",t.target.value)},e.resetRateError]}})]),a("div",{staticClass:"row-refresh"},[a("span",{staticClass:"error show"},[e._v(e._s(e.refreshError))]),a("div",{staticClass:"wrap"},[a("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.getPrice.apply(null,arguments)}}},[e._v(" Обновить курс ")]),a("img",{staticClass:"img",class:{spin:e.isSpin},attrs:{src:r("f3f4")}})])]),a("button",{staticClass:"row btn",attrs:{type:"submit"},on:{input:e.resetRateError}},[e._v(" ДОБАВИТЬ ")])])])},Ke=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Выберете валюту")])])}],Ze=(r("7db0"),{data:function(){return{titleError:"",symbolError:"",rateError:"",refreshError:""}},validations:{candidate:{title:{required:K["required"],minLength:Object(K["minLength"])(3),maxLength:Object(K["maxLength"])(30)},symbol:{required:K["required"]},price:{decimal:K["decimal"]}}},methods:{selectCurrencyHandler:function(e){this.resetSymbolError();var t=e.target.value,r=this.getAvailableCurrenceis.find((function(e){return e.symbol===t}));this.candidate.title=r.name,this.resetRefreshError(),this.isCurrencyCode(t)&&(this.symbolError="валюта уже существует")},checkFormData:function(){return this.$v.candidate.title.$dirty||this.$v.candidate.title.required?this.$v.candidate.title.$dirty||this.$v.candidate.title.minLength?this.$v.candidate.title.$dirty||this.$v.candidate.title.maxLength?this.titleError="":this.titleError="максимум 30 символа":this.titleError="минимум 3 символа":this.titleError="нет значения",this.$v.candidate.symbol.$dirty||this.$v.candidate.symbol.required?this.symbolError="":this.symbolError="нет значения",this.$v.candidate.price.$dirty||this.$v.candidate.price.decimal?this.rateError="":this.rateError="только число",!(this.titleError||this.symbolError||this.rateError)},resetTitleError:function(){this.titleError=""},resetSymbolError:function(){this.symbolError=""},resetRateError:function(){this.rateError=""},resetRefreshError:function(){this.refreshError=""},resetForm:function(){this.candidate.title="",this.candidate.symbol="",this.candidate.price=1}}}),Ge={name:"CurrencyCreateForm",mixins:[Ze],computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAvailableCurrenceis"])),{},{isMainCurrency:function(){if("USD"===this.candidate.symbol)return this.candidate.price=1,!0}}),data:function(){return{candidate:{title:"",symbol:"",price:1},isSpin:!1}},methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(y["b"])(["addCurrency","refreshPrice"])),Object(y["c"])(["getAllCurrencies"])),{},{getPrice:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.candidate.price){t.next=13;break}if(e.candidate.symbol){t.next=5;break}e.refreshError="валюта не выбрана",t.next=11;break;case 5:return e.isSpin=!0,t.next=8,e.refreshPrice();case 8:r=e.getAvailableCurrenceis.find((function(t){return t.symbol===e.candidate.symbol})),e.candidate.price=r.price,e.isSpin=!1;case 11:t.next=14;break;case 13:e.candidate.price=1;case 14:case"end":return t.stop()}}),t)})))()},formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkFormData()){t.next=15;break}return e.main&&e.resetMainCurrency(),t.prev=2,t.next=5,e.addCurrency(e.candidate);case 5:t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](2);case 9:return t.prev=9,e.resetForm(),e.$emit("hideForm",!0),t.finish(9);case 13:t.next=15;break;case 15:case"end":return t.stop()}}),t,null,[[2,7,9,13]])})))()},isCurrencyCode:function(e){var t=!1,r=this.getAllCurrencies();return r.forEach((function(r){r.symbol==e&&(t=!0)})),t}})},Qe=Ge,Ve=(r("5258"),Object(m["a"])(Qe,ze,Ke,!1,null,"4aeb4100",null)),We=Ve.exports,Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Список валют пуст")]):r("div",[r("table",[e._m(0),r("tbody",e._l(e.pageItems,(function(t){return r("currency-list-item",{key:t.id,attrs:{currency:t},on:{edit:e.editHandler,delete:e.deleteHandler}})})),1)]),r("pagination",{attrs:{"pages-amount":e.pageCount,page:e.page},on:{currentPage:e.updateList}})],1),r("modal",{attrs:{modalActive:e.activeEditForm},on:{hideModal:e.hideEditForm}},[r("currency-edit-form",{attrs:{currency:e.target},on:{hideForm:e.hideEditForm}})],1),r("confirm-modal",{attrs:{show:e.activeConfirmForm},on:{result:e.deleteCurrency}})],1)},et=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Название")]),r("th",[e._v("Код")]),r("th",[e._v("Курс к USD")]),r("th",[e._v("Действие")])])])}],tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[e._v(e._s(e.currency.id))]),r("td",[e._v(e._s(e.currency.title))]),r("td",[e._v(e._s(e.currency.symbol))]),r("td",[e._v(e._s(e.currency.price))]),r("td",[r("div",{staticClass:"td-btn"},[r("edit-button",{staticClass:"edit__btn",on:{clickButton:e.edit}}),r("delete-button",{staticClass:"remove__btn",on:{clickButton:e.confirm}})],1)])])},rt=[],at={name:"CurrencyListItem",props:{currency:{type:Object,required:!0}},methods:{edit:function(){this.$emit("edit",this.currency)},confirm:function(){this.$emit("delete",this.currency)}}},nt=at,it=Object(m["a"])(nt,tt,rt,!1,null,"17cc7f1e",null),st=it.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-form"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Код")]),a("span",{staticClass:"error show"},[e._v(e._s(e.symbolError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.symbol,expression:"candidate.symbol"}],attrs:{required:"",type:"text"},domProps:{value:e.candidate.symbol},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"symbol",t.target.value)},e.resetSymbolError]}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Название")]),a("span",{staticClass:"error show"},[e._v(e._s(e.titleError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.title,expression:"candidate.title"}],attrs:{required:"",type:"text"},domProps:{value:e.candidate.title},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"title",t.target.value)},e.resetTitleError]}})]),a("div",{staticClass:"row"},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.price,expression:"candidate.price"}],attrs:{required:"",type:"text",disabled:e.isMainCurrency},domProps:{value:e.candidate.price},on:{input:function(t){t.target.composing||e.$set(e.candidate,"price",t.target.value)}}})]),a("div",{staticClass:"row-refresh"},[a("span",{staticClass:"error show"},[e._v(e._s(e.refreshError))]),a("div",{staticClass:"wrap"},[a("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.getPrice.apply(null,arguments)}}},[e._v(" Обновить курс ")]),a("img",{staticClass:"img",attrs:{src:r("f3f4")}})])]),a("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},ot=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Курс к USD")]),r("span",{staticClass:"error show"})])}],lt={name:"CurrencyEditForm",props:{currency:{type:Object,required:!0}},mixins:[Ze],computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAvailableCurrenceis"])),{},{isMainCurrency:function(){if("USD"===this.candidate.symbol)return this.candidate.price=1,!0}}),data:function(){return{candidate:{id:1,title:"",symbol:"",price:1}}},methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(y["b"])(["putCurrencyById","refreshPrice"])),Object(y["c"])(["getAllCurrencies"])),{},{formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormData()){t.next=2;break}return t.abrupt("return");case 2:if(!e.main){t.next=6;break}return t.next=5,e.changeMainCurrency(e.id);case 5:e.rate=1;case 6:return r={id:e.candidate.id,currency:{title:e.candidate.title,symbol:e.candidate.symbol,price:e.candidate.price}},t.next=9,e.putCurrencyById(r);case 9:e.$emit("hideForm",!0);case 10:case"end":return t.stop()}}),t)})))()},getPrice:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.candidate.price){t.next=11;break}if(e.candidate.symbol){t.next=5;break}e.refreshError="валюта не выбрана",t.next=9;break;case 5:return t.next=7,e.refreshPrice();case 7:r=e.getAvailableCurrenceis.find((function(t){return t.symbol===e.candidate.symbol})),e.candidate.price=r.price;case 9:t.next=12;break;case 11:e.candidate.price=1;case 12:case"end":return t.stop()}}),t)})))()},isCurrencyCode:function(e){var t=!1,r=this.getAllCurrencies();return r.forEach((function(r){r.price==e&&(t=!0)})),t}}),watch:{currency:function(){this.candidate=Object(g["a"])({},this.currency)}},mounted:function(){this.candidate=Object(g["a"])({},this.currency)}},ut=lt,dt=Object(m["a"])(ut,ct,ot,!1,null,"7a8efa02",null),mt=dt.exports,pt={components:{CurrencyListItem:st,CurrencyEditForm:mt},name:"CurrencyList",mixins:[q],data:function(){return{target:{},activeConfirmForm:!1,activeEditForm:!1}},computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllCurrencies"])),{},{isEmptyList:function(){return 0===this.getAllCurrencies.length}}),methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["removeCurrencyById"])),{},{updateList:function(e){this.page=e,this.setupPagination(this.getAllCurrencies)},deleteCurrency:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e||!t.target.id){r.next=8;break}return r.prev=1,r.next=4,t.removeCurrencyById(t.target.id);case 4:r.next=8;break;case 6:r.prev=6,r.t0=r["catch"](1);case 8:t.activeConfirmForm=!1,t.target={};case 10:case"end":return r.stop()}}),r,null,[[1,6]])})))()},editHandler:function(e){this.target=e,this.activeEditForm=!0},deleteHandler:function(e){this.target=e,this.activeConfirmForm=!0},hideEditForm:function(e){e&&(this.target={},this.activeEditForm=!1)}}),watch:{getAllCurrencies:function(){this.setupPagination(this.getAllCurrencies)}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setupPagination(e.getAllCurrencies);case 2:case"end":return t.stop()}}),t)})))()}},vt=pt,ft=Object(m["a"])(vt,Xe,et,!1,null,"40c7f1c0",null),ht=ft.exports,bt={components:{CurrencyCreateForm:We,CurrencyList:ht},name:"CurrencyHandler",data:function(){return{activeCreateModal:!1}},methods:{showCreateModal:function(){this.activeCreateModal=!0},hideCreateModal:function(e){e&&(this.activeCreateModal=!1)}}},gt=bt,yt=Object(m["a"])(gt,Je,Ye,!1,null,"59688b86",null),_t=yt.exports,Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler"},[r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Записи")]),r("create-button",{staticClass:"btn",on:{clickButton:e.showRecordCreateForm}}),r("currency-transfer-button",{staticClass:"btn",on:{clickButton:e.showTransferCreateForm}})],1),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"handler__content-form"},[r("modal",{attrs:{"modal-active":e.createRecordForm},on:{hideModal:e.hideRecordCreateForm}},[r("record-create-form",{on:{hideForm:e.hideRecordCreateForm}})],1),r("modal",{attrs:{"modal-active":e.createTransferForm},on:{hideModal:e.hideTransferCreateForm}},[r("record-transfer-create-form",{on:{hideForm:e.hideTransferCreateForm}})],1)],1),r("record-list")],1)])},xt=[],wt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-form"},[r("div",{staticClass:"choice"},[r("div",{staticClass:"choice__income",class:{active:e.candidate.income},on:{click:e.clickIncome}},[e._v(" Доход ")]),r("div",{staticClass:"choice__outcome",class:{active:!e.candidate.income},on:{click:e.clickOutcome}},[e._v(" Расход ")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.candidate.income,expression:"candidate.income === true"}]},[r("form",{staticClass:"record-form",on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Счет")]),r("span",{staticClass:"error"},[e._v(e._s(e.billError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.bill,expression:"candidate.bill"}],attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"bill",t.target.multiple?r:r[0])}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Категория")]),r("span",{staticClass:"error"},[e._v(e._s(e.categoryError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.category,expression:"candidate.category"}],attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"category",t.target.multiple?r:r[0])}}},e._l(e.incomeCategories,(function(t){return r("option",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.sumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.sum,expression:"candidate.sum"}],attrs:{required:"",type:"text"},domProps:{value:e.candidate.sum},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"sum",t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.date,expression:"candidate.date"}],attrs:{required:"",type:"date"},domProps:{value:e.candidate.date},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"date",t.target.value)},e.resetDateError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Описание")]),r("span",{staticClass:"error"},[e._v(e._s(e.descriptionError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.description,expression:"candidate.description"}],attrs:{type:"text"},domProps:{value:e.candidate.description},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"description",t.target.value)},e.resetDescriptionError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ДОБАВИТЬ ")])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.candidate.income,expression:"candidate.income === false"}]},[r("form",{staticClass:"record-form",on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Счет")]),r("span",{staticClass:"error"},[e._v(e._s(e.billError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.bill,expression:"candidate.bill"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"bill",t.target.multiple?r:r[0])}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Категория")]),r("span",{staticClass:"error"},[e._v(e._s(e.categoryError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.category,expression:"candidate.category"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"category",t.target.multiple?r:r[0])}}},e._l(e.outcomeCategories,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.sumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.sum,expression:"candidate.sum"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.sum},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"sum",t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.date,expression:"candidate.date"}],attrs:{type:"date",required:""},domProps:{value:e.candidate.date},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"date",t.target.value)},e.resetDateError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Описание")]),r("span",{staticClass:"error"},[e._v(e._s(e.descriptionError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.description,expression:"candidate.description"}],attrs:{type:"text"},domProps:{value:e.candidate.description},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"description",t.target.value)},e.resetDescriptionError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ДОБАВИТЬ ")])])])])},kt=[],Et=(r("a4d3"),r("e01a"),{data:function(){return{billError:"",categoryError:"",sumError:"",dateError:"",descriptionError:""}},validations:{candidate:{bill:{required:K["required"]},category:{required:K["required"]},sum:{required:K["required"],decimal:K["decimal"]},date:{required:K["required"]}}},methods:{checkFormData:function(){return this.$v.candidate.bill.$dirty||this.$v.candidate.bill.required?this.billError="":this.billError="нет значения",this.$v.candidate.category.$dirty||this.$v.candidate.category.required?this.categoryError="":this.categoryError="нет значения",this.$v.candidate.sum.$dirty||this.$v.candidate.sum.required||(this.sumError="нет значения"),this.$v.candidate.sum.$dirty||this.$v.candidate.sum.decimal?this.sumError="":this.sumError="только число",this.$v.candidate.date.$dirty||this.$v.candidate.date.required?this.dateError="":this.dateError="нет значения",!(this.billError||this.categoryError||this.sumError||this.dateError)},resetSumError:function(){this.sumError=""},resetDateError:function(){this.dateError=""},resetDescriptionError:function(){this.descriptionError=""},resetForm:function(){this.candidate.bill="",this.candidate.category="",this.candidate.sum="",this.candidate.category=""}}}),Rt={name:"RecordCreateForm",mixins:[Et],data:function(){return{candidate:{income:!0,bill:"",category:"",sum:"",date:"",description:""}}},computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllCategories","getAllBills"])),{},{incomeCategories:function(){return this.getAllCategories.filter((function(e){return"Доход"==e.type}))},outcomeCategories:function(){return this.getAllCategories.filter((function(e){return"Расход"==e.type}))}}),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(y["b"])(["getBillsData","putBillById","addRecord"])),Object(y["d"])(["changeCreateForm"])),{},{clickIncome:function(){this.candidate.income=!0},clickOutcome:function(){this.candidate.income=!1},formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkFormData()){t.next=15;break}return r="Доход",e.candidate.income||(r="Расход"),t.prev=3,a={bill:e.candidate.bill,type:r,category:e.candidate.category,date:e.candidate.date,sum:e.candidate.sum,description:e.candidate.description},t.next=7,e.addRecord(a);case 7:e.resetForm(),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,e.$emit("hideForm",!0),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,10,12,15]])})))()},getCurrentData:function(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1;t<10&&(t="0"+t);var r=(new Date).getDate();return r<10&&(r="0"+r),"".concat(e,"-").concat(t,"-").concat(r)}}),watch:{getAllBills:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.getAllBills,0===r.length?e.billError="у вас еще не щетов":"у вас еще не щетов"===e.billError&&(e.billError="");case 2:case"end":return t.stop()}}),t)})))()},getAllCategories:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.getAllCategories,0===r.length?e.categoryError="у вас нет категории":"у вас нет категории"===e.categoryError&&(e.categoryError="");case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.candidate.date=e.getCurrentData();case 1:case"end":return t.stop()}}),t)})))()}},Bt=Rt,jt=(r("7cb5"),Object(m["a"])(Bt,wt,kt,!1,null,"16e7ed2a",null)),Ot=jt.exports,St=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"title"},[e._v("Перевод")]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("С")]),r("span",{staticClass:"error"},[e._v(e._s(e.firstBillError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.firstBill,expression:"firstBill"}],attrs:{required:""},on:{input:e.resetFirstBillError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.firstBill=t.target.multiple?r:r[0]}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("В")]),r("span",{staticClass:"error"},[e._v(e._s(e.secondBillError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.secondBill,expression:"secondBill"}],attrs:{required:""},on:{input:e.resetSecondBillError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.secondBill=t.target.multiple?r:r[0]}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.firstSumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.firstSum,expression:"firstSum"}],attrs:{required:"",type:"text"},domProps:{value:e.firstSum},on:{input:[function(t){t.target.composing||(e.firstSum=t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.secondSumError))])]),r("input",{attrs:{required:"",type:"text",disabled:!e.isAvailableRate},domProps:{value:e.secondSum},on:{input:e.secondSumHandler}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Курс")]),r("span",{staticClass:"error"},[e._v(e._s(e.rateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.rate,expression:"rate"}],attrs:{required:"",type:"text",disabled:!e.isAvailableRate},domProps:{value:e.rate},on:{input:[function(t){t.target.composing||(e.rate=t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{required:"",type:"date"},domProps:{value:e.date},on:{input:[function(t){t.target.composing||(e.date=t.target.value)},e.resteDateError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ДОБАВИТЬ ")])])])},$t=[],At={data:function(){return{firstBillError:"",secondBillError:"",firstSumError:"",secondSumError:"",rateError:"",dateError:"",descriptionError:""}},validations:{firstBill:{required:K["required"]},secondBill:{required:K["required"]},firstSum:{required:K["required"],decimal:K["decimal"]},secondSum:{required:K["required"],decimal:K["decimal"]},rate:{required:K["required"],decimal:K["decimal"]},date:{required:K["required"]}},methods:{secondSumHandler:function(e){var t=this;this.secondSumTimer&&clearTimeout(this.secondSumTimer),this.resetSecondSumError(),this.secondSumTimer=setTimeout((function(){var r=e.target.value;t.secondSum=r,isNaN(t.secondSum)?t.secondSumError="Только число":t.secondSum<=0?t.secondSumError="Введите число больше нуля":t.rate=(t.secondSum/t.firstSum).toFixed(6)}),1e3)},checkFormData:function(){return this.$v.firstBill.$dirty||this.$v.firstBill.required?this.firstBillError="":this.firstBillError="Выберете счет",this.$v.secondBill.$dirty||this.$v.secondBill.required?this.secondBillError="":this.secondBillError="Выберете счет",this.firstBill.name==this.secondBill.name&&(this.secondBillError="Счета совпадают"),this.$v.date.$dirty||this.$v.date.required?this.dateError="":this.dateError="нет значения",!(this.firstSumError||this.secondSumError||this.rateError||this.dateError)},resetFirstBillError:function(){this.firstBillError=""},resetSecondBillError:function(){this.secondBillError=""},resetFirstSumError:function(){this.firstSumError=""},resetSecondSumError:function(){this.secondSumError=""},resetRateError:function(){this.rateError=""},resteDateError:function(){this.dateError=""},resetForm:function(){this.firstBill="",this.secondBill="",this.firstSum=0,this.secondSum=0,this.rate=1,this.date=this.getCurrentData()}},watch:{firstSum:function(){var e=this;this.firstSumTimer&&clearTimeout(this.firstSumTimer),this.resetFirstSumError(),this.firstSumTimer=setTimeout((function(){isNaN(e.firstSum)?e.firstSumError="Только число":e.firstSum<=0?e.firstSumError="Введите число больше нуля":e.isAvailableRate&&(e.secondSum=(e.firstSum*e.rate).toFixed(2))}),1e3)},rate:function(){var e=this;this.rateTimer&&clearTimeout(this.rateTimer),this.resetRateError(),this.rateTimer=setTimeout((function(){isNaN(e.rate)?e.rateError="Только число":e.rate<=0?e.rateError="Введите число больше нуля":e.secondSum=(e.firstSum*e.rate).toFixed(2)}),1e3)}}},Ft={name:"RecordTransferCreateForm",mixins:[At],computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllBills","getCurrencyBySymbol"])),{},{isAvailableRate:function(){var e=!1;if(this.firstBill.currency&&this.secondBill.currency)if(this.firstBill.currency!=this.secondBill.currency){var t=this.getCurrencyBySymbol(this.firstBill.currency).price,r=this.getCurrencyBySymbol(this.secondBill.currency).price,a=r/t;this.rate=a.toFixed(6),e=!0}else this.rate=1;return e}}),data:function(){return{firstBill:"",secondBill:"",firstSum:0,secondSum:0,rate:1,date:"",firstSumTimer:null,secondSumTimer:null,rateTimer:null}},methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["addTransfer"])),{},{formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormData()){t.next=2;break}return t.abrupt("return");case 2:return e.isAvailableRate||(e.secondSum=e.firstSum),t.prev=3,r={firstBill:e.firstBill.name,secondBill:e.secondBill.name,firstSum:e.firstSum,secondSum:e.secondSum,rate:e.rate,date:e.date},t.next=7,e.addTransfer(r);case 7:e.resetForm(),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,e.$emit("hideForm",!0),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,10,12,15]])})))()},resetSumError:function(){},getCurrentData:function(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1;t<10&&(t="0"+t);var r=(new Date).getDate();return r<10&&(r="0"+r),"".concat(e,"-").concat(t,"-").concat(r)}}),mounted:function(){this.date=this.getCurrentData()}},Dt=Ft,Nt=Object(m["a"])(Dt,St,$t,!1,null,null,null),Pt=Nt.exports,It=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"pick"},[r("div",{staticClass:"pick__title"},[e._v("Сортировать")]),r("div",{staticClass:"pick__bill"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.billName,expression:"billName"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.billName=t.target.multiple?r:r[0]}}},[r("option",[e._v("Все")]),e._l(e.getAllBills,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])}))],2)]),r("div",{staticClass:"pick__type",on:{click:e.selectTypeHandler}},[r("div",{staticClass:"pick__type-item left  active",attrs:{"data-type-record":"Все"}},[e._v("Все")]),r("div",{staticClass:"pick__type-item",attrs:{"data-type-record":"Доход"}},[e._v("Доход")]),r("div",{staticClass:"pick__type-item right",attrs:{"data-type-record":"Расход"}},[e._v("Расход")])])]),r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Список записей пуст")]):r("div",[r("table",[e._m(0),r("tbody",e._l(e.pageItems,(function(t){return r("record-list-item",{key:t.id,attrs:{record:t},on:{edit:e.editHandler,delete:e.deleteHandler}})})),1)]),r("pagination",{attrs:{"pages-amount":e.pageCount,page:e.page},on:{currentPage:e.updateList}})],1),r("modal",{attrs:{"modal-active":e.activeRecordEdit},on:{hideModal:e.hideRecordEditModal}},[r("record-edit-form",{attrs:{record:e.target},on:{hideForm:e.hideRecordEditModal}})],1),r("modal",{attrs:{"modal-active":e.activeTransferEdit},on:{hideModal:e.hideTransferEditForm}},[r("record-transfer-edit-form",{attrs:{firstRecord:e.firstRecord,secondRecord:e.secondRecord},on:{hideForm:e.hideTransferEditForm}})],1),r("confirm-modal",{attrs:{show:e.activeConfirmModal},on:{result:e.deleteRecord}})],1)])},qt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Счет")]),r("th",[e._v("Категория")]),r("th",[e._v("Тип")]),r("th",[e._v("Дата")]),r("th",[e._v("Описание")]),r("th",[e._v("Сумма")]),r("th",[e._v("Действие")])])])}],Lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"inner"},[r("td",[e._v(e._s(e.record.id))]),r("td",[e._v(e._s(e.record.bill))]),r("td",[e._v(e._s(e.record.category))]),r("td",{class:{income:"Доход"===e.record.type,outcome:"Расход"===e.record.type}},[r("span",[e._v(e._s(e.record.type))])]),r("td",[e._v(e._s(e.record.date))]),r("td",[e._v(e._s(e.record.description))]),r("td",[e._v(e._s(e.record.sum))]),r("td",[r("div",{staticClass:"td-btn"},[r("edit-button",{staticClass:"edit__btn",on:{clickButton:e.edit}}),r("delete-button",{staticClass:"remove__btn",on:{clickButton:e.confirm}})],1)])])},Tt=[],Mt={name:"RecordListItem",props:{record:{type:Object,required:!0}},methods:{edit:function(){this.$emit("edit",this.record)},confirm:function(){this.$emit("delete",this.record)}}},Ht=Mt,Ut=(r("9473"),Object(m["a"])(Ht,Lt,Tt,!1,null,"c7d89528",null)),Jt=Ut.exports,Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[e._m(0),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.bill,expression:"candidate.bill"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"bill",t.target.multiple?r:r[0])}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{staticClass:"row"},[e._m(1),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.type,expression:"candidate.type"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"type",t.target.multiple?r:r[0])}}},[r("option",[e._v("Доход")]),r("option",[e._v("Расход")])])]),r("div",{staticClass:"row"},[e._m(2),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.category,expression:"candidate.category"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"category",t.target.multiple?r:r[0])}}},e._l(e.availableCategories,(function(t){return r("option",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.sumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.sum,expression:"candidate.sum"}],attrs:{required:"",type:"text"},domProps:{value:e.candidate.sum},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"sum",t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.date,expression:"candidate.date"}],attrs:{required:"",type:"date"},domProps:{value:e.candidate.date},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"date",t.target.value)},e.resetDateError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Описание")]),r("span",{staticClass:"error"},[e._v(e._s(e.descriptionError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.description,expression:"candidate.description"}],attrs:{type:"text"},domProps:{value:e.candidate.description},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"description",t.target.value)},e.resetDescriptionError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},zt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Счет")]),r("span",{staticClass:"error"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Тип")]),r("span",{staticClass:"error"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Категория")]),r("span",{staticClass:"error"})])}],Kt={name:"RecordEditForm",props:{record:{type:Object,required:!0}},mixins:[Et],computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllBills","getAllCategories"])),{},{availableCategories:function(){var e=this;return this.getAllCategories.filter((function(t){return t.type===e.candidate.type}))}}),data:function(){return{candidate:{id:0,bill:"",type:"",category:"",date:"",sum:0,description:""}}},methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["putRecordById"])),{},{formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("dd"),e.checkFormData()){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,r={id:e.candidate.id,record:{bill:e.candidate.bill,type:e.candidate.type,category:e.candidate.category,date:e.candidate.date,sum:e.candidate.sum,description:e.candidate.description}},t.next=7,e.putRecordById(r);case 7:e.$emit("hideForm",!0),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[3,10,12,14]])})))()}}),watch:{record:function(){console.log(this.record),this.candidate=Object(g["a"])({},this.record)}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.candidate=e.record;case 1:case"end":return t.stop()}}),t)})))()}},Zt=Kt,Gt=Object(m["a"])(Zt,Yt,zt,!1,null,null,null),Qt=Gt.exports,Vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"title"},[e._v("Перевод")]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("С")]),r("span",{staticClass:"error"},[e._v(e._s(e.firstBillError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.firstBill,expression:"firstBill"}],attrs:{required:""},on:{input:e.resetFirstBillError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.firstBill=t.target.multiple?r:r[0]}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("В")]),r("span",{staticClass:"error"},[e._v(e._s(e.secondBillError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.secondBill,expression:"secondBill"}],attrs:{required:""},on:{input:e.resetSecondBillError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.secondBill=t.target.multiple?r:r[0]}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.firstSumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.firstSum,expression:"firstSum"}],attrs:{required:"",type:"text"},domProps:{value:e.firstSum},on:{input:[function(t){t.target.composing||(e.firstSum=t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.secondSumError))])]),r("input",{attrs:{required:"",type:"text",disabled:!e.isAvailableRate},domProps:{value:e.secondSum},on:{input:e.secondSumHandler}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Курс")]),r("span",{staticClass:"error"},[e._v(e._s(e.rateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.rate,expression:"rate"}],attrs:{required:"",type:"text",disabled:!e.isAvailableRate},domProps:{value:e.rate},on:{input:[function(t){t.target.composing||(e.rate=t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{required:"",type:"date"},domProps:{value:e.date},on:{input:[function(t){t.target.composing||(e.date=t.target.value)},e.resteDateError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},Wt=[],Xt={name:"RecordTransferEditForm",mixins:[At],props:{firstRecord:{type:Object,required:!0},secondRecord:{ype:Object,required:!0}},computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllBills","getCurrencyBySymbol"])),{},{isAvailableRate:function(){var e=!1;if(this.firstBill.currency&&this.secondBill.currency)if(this.firstBill.currency!=this.secondBill.currency){var t=this.getCurrencyBySymbol(this.firstBill.currency).price,r=this.getCurrencyBySymbol(this.secondBill.currency).price,a=r/t;this.rate=a.toFixed(6),e=!0}else this.rate=1;return e}}),data:function(){return{firstBill:"",secondBill:"",firstSum:0,secondSum:0,rate:1,date:"",firstSumTimer:null,secondSumTimer:null,rateTimer:null}},methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["addRecord","putTransfer"])),{},{formHandler:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormData()){t.next=2;break}return t.abrupt("return");case 2:return e.isAvailableRate||(e.secondSum=e.firstSum),t.prev=3,r={firstRecordId:e.firstRecord.id,secondRecordId:e.secondRecord.id,firstBill:e.firstBill.name,secondBill:e.secondBill.name,firstSum:e.firstSum,secondSum:e.secondSum,rate:e.rate,date:e.date},t.next=7,e.putTransfer(r);case 7:e.$emit("hideForm",!0),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,e.resetForm(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,10,12,15]])})))()},resetSumError:function(){},getCurrentData:function(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1;t<10&&(t="0"+t);var r=(new Date).getDate();return r<10&&(r="0"+r),"".concat(e,"-").concat(t,"-").concat(r)}}),watch:{firstRecord:function(){var e=this,t=this.getAllBills;this.firstBill=t.find((function(t){return t.name==e.firstRecord.bill})),this.firstSum=this.firstRecord.sum,this.date=this.firstRecord.date,this.rate=this.firstRecord.transfer.rate},secondRecord:function(){var e=this,t=this.getAllBills;this.secondBill=t.find((function(t){return t.name==e.secondRecord.bill})),this.secondSum=this.secondRecord.sum,this.date=this.secondRecord.date,this.rate=this.secondRecord.transfer.rate}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.getAllBills,e.firstBill=r.find((function(t){return t.name==e.firstRecord.bill})),e.firstSum=e.firstRecord.sum,e.secondBill=r.find((function(t){return t.name==e.secondRecord.bill})),e.secondSum=e.secondRecord.sum,e.date=e.firstRecord.date;case 6:case"end":return t.stop()}}),t)})))()}},er=Xt,tr=Object(m["a"])(er,Vt,Wt,!1,null,null,null),rr=tr.exports,ar={name:"RecordList",components:{RecordListItem:Jt,RecordEditForm:Qt,RecordTransferEditForm:rr},mixins:[q],data:function(){return{currentPage:1,bills:[],selectedBill:0,topActive:!0,bottomActive:!0,id:0,billName:"Все",records:[],typeCome:"Все",selectedRecord:{},target:{},activeConfirmModal:!1,activeRecordEdit:!1,activeTransferEdit:!1,firstRecord:{},secondRecord:{}}},computed:Object(g["a"])(Object(g["a"])({},Object(y["c"])(["getAllBills","getAllRecords","getRecordById"])),{},{billSelectHandler:function(){var e=this,t=[],r=this.getAllRecords;return t="Все"===this.billName?r:r.filter((function(t){return t.bill===e.billName})),t},selectByType:function(){var e=this,t=[],r=this.billSelectHandler;return t="Все"===this.typeCome?r:r.filter((function(t){return t.type===e.typeCome})),t},isEmptyList:function(){return 0===this.selectByType.length}}),methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["removeRecordById","removeTransfer"])),{},{updateList:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.page=e,r.next=3,t.setupPagination(t.selectByType);case 3:case"end":return r.stop()}}),r)})))()},selectTypeHandler:function(e){var t=e.target,r=document.querySelectorAll(".pick__type-item");r.forEach((function(e){e.classList.remove("active")})),t.classList.add("active"),this.typeCome=t.dataset.typeRecord},deleteRecord:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e||!t.target.id){r.next=17;break}if(r.prev=1,!t.target.transfer){r.next=7;break}return r.next=5,t.removeTransfer(t.target);case 5:r.next=9;break;case 7:return r.next=9,t.removeRecordById(t.target.id);case 9:r.next=13;break;case 11:r.prev=11,r.t0=r["catch"](1);case 13:return r.prev=13,t.activeConfirmModal=!1,t.target={},r.finish(13);case 17:case"end":return r.stop()}}),r,null,[[1,11,13,17]])})))()},editHandler:function(e){if(e.transfer){var t=e.transfer.firstRecordId,r=e.transfer.secondRecordId;this.firstRecord=this.getRecordById(t),this.secondRecord=this.getRecordById(r),this.activeTransferEdit=!0}else this.target=e,this.activeRecordEdit=!0},deleteHandler:function(e){this.activeConfirmModal=!0,this.target=e},hideRecordEditModal:function(e){e&&(this.target={},this.activeRecordEdit=!1)},hideTransferEditForm:function(e){e&&(this.target={},this.activeTransferEdit=!1)}}),watch:{selectByType:function(){this.setupPagination(this.selectByType)}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllRecords;case 2:return e.records=t.sent,t.next=5,e.getAllBills;case 5:return e.bills=t.sent,t.next=8,e.setupPagination(e.selectByType);case 8:case"end":return t.stop()}}),t)})))()}},nr=ar,ir=(r("f21c"),Object(m["a"])(nr,It,qt,!1,null,"3be75430",null)),sr=ir.exports,cr={name:"RecordHandler",components:{RecordCreateForm:Ot,RecordTransferCreateForm:Pt,RecordList:sr},data:function(){return{createRecordForm:!1,createTransferForm:!1}},methods:{showRecordCreateForm:function(){this.createRecordForm=!0},hideRecordCreateForm:function(e){e&&(this.createRecordForm=!1)},showTransferCreateForm:function(){this.createTransferForm=!0},hideTransferCreateForm:function(e){e&&(this.createTransferForm=!1)}}},or=cr,lr=Object(m["a"])(or,Ct,xt,!1,null,"366be2d2",null),ur=lr.exports,dr={components:{CategoryHandler:Ue,BalanceHandler:$,CurrencyHandler:_t,RecordHandler:ur,BillHandler:me},name:"MainContent",data:function(){return{menuId:"balance",isLoader:!0}},methods:Object(g["a"])(Object(g["a"])({},Object(y["b"])(["getCategoriesData","getCurrencyData","getBillsData","getRecordsData"])),{},{menuListener:function(e){var t=e.target,r=document.querySelectorAll(".menu__item");t.classList.contains("menu__item")&&(r.forEach((function(e){e.classList.remove("active")})),t.classList.add("active"),this.menuId=t.dataset.id)}}),computed:Object(g["a"])({},Object(y["c"])(["getAllCategories","getAllCurrencies","getAllBills","getAllRecords"])),mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoader=!0,t.prev=1,t.next=4,e.getRecordsData();case 4:return t.next=6,e.getBillsData();case 6:return t.next=8,e.getCategoriesData();case 8:return t.next=10,e.getCurrencyData();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log(t.t0);case 15:return t.prev=15,e.isLoader=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))()}},mr=dr,pr=(r("cb15"),Object(m["a"])(mr,f,h,!1,null,"7d960ac2",null)),vr=pr.exports,fr={name:"App",components:{AppHeader:v,MainContent:vr}},hr=fr,br=(r("5c0b"),Object(m["a"])(hr,s,c,!1,null,null,null)),gr=br.exports,yr=(r("e9c4"),{state:{bills:[],selectedBill:{name:"",currency:"",records:[],id:1}},getters:{getAllBills:function(e){return e.bills},getBillById:function(e){return function(t){var r=e.bills.filter((function(e){return e.id===t}));return r[0]}},getSelectedBill:function(e){return e.selectedBill}},mutations:{updateBills:function(e,t){e.bills=t},setSelectedBill:function(e,t){e.selectedBill=t}},actions:{getBillsData:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getters,r=e.commit,t.prev=1,t.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/bills"));case 4:if(a=t.sent,!a.ok){t.next=12;break}return t.next=8,a.json();case 8:n=t.sent,r("updateBills",n),t.next=13;break;case 12:console.error("server error url: ".concat(a.url," status: ").concat(a.status));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},addBill:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,n=JSON.stringify(t),r.next=5,fetch("".concat("https://mybudgetproject.herokuapp.com","/bills"),{method:"POST",headers:{"Content-type":"application/json"},body:n});case 5:if(i=r.sent,!i.ok){r.next=11;break}return r.next=9,a("getBillsData");case 9:r.next=13;break;case 11:console.error("server error url: ".concat(i.url," status: ").concat(i.status)),console.log("data in JSON: ".concat(jsonData));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](1),console.log(r.t0);case 18:case"end":return r.stop()}}),r,null,[[1,15]])})))()},removeBillById:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,n=e.getters,r.prev=1,i=n.getBillById(t),r.next=5,fetch("".concat("https://mybudgetproject.herokuapp.com","/bills/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 5:if(s=r.sent,!s.ok){r.next=13;break}return r.next=9,a("removeRecordsByBill",i.name);case 9:return r.next=11,a("getBillsData");case 11:r.next=15;break;case 13:console.error("server error url: ".concat(s.url," status: ").concat(s.status)),console.log("data in JSON: ".concat(jsonData));case 15:r.next=20;break;case 17:r.prev=17,r.t0=r["catch"](1),console.log(r.t0);case 20:case"end":return r.stop()}}),r,null,[[1,17]])})))()},removeBillsByCurrency:{handler:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.getters,n=e.dispatch,r.prev=1,r.next=4,a.getAllBills;case 4:i=r.sent,s=i.filter((function(e){return e.currency===t})),s.forEach(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n("removeBillById",t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()},root:!0},changeCurrencyCode:{handler:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.oldName&&t.newName){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,a.getAllBills;case 6:i=r.sent,s=i.filter((function(e){return e.currency==t.oldName})),s.forEach(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={name:r.name,currency:t.newName,startBalance:r.startBalance},i={id:r.id,bill:a},e.next=4,n("putBillById",i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()},root:!0},putBillById:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s,c,o,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.bill){r.next=4;break}return r.abrupt("return");case 4:if(i=a.getAllBills,s=i.filter((function(e){return e.id==t.id})),0!=s.length){r.next=8;break}return r.abrupt("return");case 8:return c={oldName:s[0].name,newName:t.bill.name},o=JSON.stringify(t.bill),r.next=12,fetch("".concat("https://mybudgetproject.herokuapp.com","/bills/").concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:o});case 12:if(l=r.sent,!l.ok){r.next=22;break}return r.next=16,n("changeBillName",c);case 16:return r.next=18,n("getBillsData");case 18:return r.next=20,n("refreshBillOnePage");case 20:r.next=24;break;case 22:console.error("server error url: ".concat(l.url," status: ").concat(l.status)),console.log("data in JSON: ".concat(o));case 24:r.next=29;break;case 26:r.prev=26,r.t0=r["catch"](1),console.log(r.t0);case 29:case"end":return r.stop()}}),r,null,[[1,26]])})))()}}}),_r={state:{categories:[],selectedCategory:{name:"",type:"",id:1}},getters:{getAllCategories:function(e){return e.categories},getCategoryById:function(e){return function(t){var r=e.categories.filter((function(e){return e.id===t}));return r[0]}},getSelectedCategory:function(e){return e.selectedCategory}},mutations:{updateCategories:function(e,t){e.categories=t},addNewCategory:function(e,t){e.categories.push(t)},setSelectedCategory:function(e,t){e.selectedCategory=t}},actions:{getCategoriesData:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/categories"));case 4:if(a=t.sent,!a.ok){t.next=12;break}return t.next=8,a.json();case 8:n=t.sent,r("updateCategories",n),t.next=13;break;case 12:console.error("server error url: ".concat(a.url," status: ").concat(a.status));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},addCategory:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.dispatch,r.prev=1,t){r.next=4;break}return r.abrupt("return");case 4:return n=JSON.stringify(t),r.next=7,fetch("".concat("https://mybudgetproject.herokuapp.com","/categories"),{method:"POST",headers:{"Content-type":"application/json"},body:n});case 7:if(i=r.sent,!i.ok){r.next=13;break}return r.next=11,a("getCategoriesData");case 11:r.next=14;break;case 13:console.error("server error url: ".concat(i.url," status: ").concat(i.status));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](1),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[1,16]])})))()},removeCategoryById:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.getters,e.commit,a=e.dispatch,r.prev=1,r.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/categories/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 4:if(n=r.sent,!n.ok){r.next=10;break}return r.next=8,a("getCategoriesData");case 8:r.next=11;break;case 10:console.error("server error url: ".concat(n.url," status: ").concat(n.status));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](1),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[1,13]])})))()},putCategoryById:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.category&&t.id){r.next=4;break}return r.abrupt("return");case 4:return i=a.getCategoryById(t.id),s={oldName:i.name,newName:t.category.name},c=JSON.stringify(t.category),r.next=9,fetch("".concat("https://mybudgetproject.herokuapp.com","/categories/").concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:c});case 9:if(o=r.sent,!o.ok){r.next=17;break}return r.next=13,n("changeCategoryName",s);case 13:return r.next=15,n("getCategoriesData");case 15:r.next=18;break;case 17:console.error("server error url: ".concat(o.url," status: ").concat(o.status));case 18:r.next=23;break;case 20:r.prev=20,r.t0=r["catch"](1),console.log(r.t0);case 23:case"end":return r.stop()}}),r,null,[[1,20]])})))()}}},Cr={state:{currency:[],selectedCurrency:{title:"",symbol:"",price:1,id:1},lastRefresh:0,availableCurrencyList:[{name:"Американский долар",symbol:"USD",price:1},{name:"Канадский долар",symbol:"CAD",price:1},{name:"Австралийский доллар",symbol:"AUD",price:1},{name:"Евро",symbol:"EUR",price:1},{name:"Британский фунт",symbol:"GBP",price:1},{name:"Швейцарский франк",symbol:"CHF",price:1},{name:"Польский злотый",symbol:"PLN",price:1},{name:"Чешская крона",symbol:"CZK",price:1},{name:"Украинская гривна",symbol:"UAH",price:1},{name:"Российский рубль",symbol:"RUB",price:1},{name:"Казахстанський теньге",symbol:"KZT",price:1},{name:"Белорусский рубль",symbol:"BYN",price:1},{name:"Японская иена",symbol:"JPY",price:1},{name:"Китайский юань",symbol:"CNY",price:1},{name:"Индийская рупия",symbol:"INR",price:1},{name:"Турецкая лира",symbol:"TRY",price:1}]},getters:{getAllCurrencies:function(e){return e.currency},getSelectedCurrency:function(e){return e.selectedCurrency},getLastRefresh:function(e){return e.lastRefresh},getCurrencyById:function(e){return function(t){var r=e.currency.filter((function(e){return e.id===t}));return r[0]}},getCurrencyBySymbol:function(e){return function(t){var r=e.currency.filter((function(e){return e.symbol===t}));return r[0]}},getAvailableCurrenceis:function(e){return e.availableCurrencyList}},mutations:{updateCurrency:function(e,t){e.currency=t},setSelectedCurrency:function(e,t){e.selectedCurrency=t},setlastRefresh:function(e,t){e.lastRefresh=t},refreshAvailable:function(e,t){e.vailableCurrencyList=t}},actions:{getCurrencyData:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/currency"));case 4:if(a=t.sent,!a.ok){t.next=12;break}return t.next=8,a.json();case 8:n=t.sent,r("updateCurrency",n),t.next=13;break;case 12:console.error("server error url: ".concat(a.url," status: ").concat(a.status));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},refreshPrice:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i,s,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.getters,a=e.commit,t.prev=1,n=Date.now()-r.getLastRefresh,i=r.getAvailableCurrenceis,!(n>36e5)){t.next=18;break}return t.next=7,fetch("https://api.coincap.io/v2/rates");case 7:if(s=t.sent,!s.ok){t.next=17;break}return a("setlastRefresh",Date.now()),t.next=12,s.json();case 12:c=t.sent,o=c.data,i.forEach((function(e){o.forEach((function(t){if(t.symbol===e.symbol){var r=(1/t.rateUsd).toFixed(4);e.price=r}}))})),t.next=18;break;case 17:console.error("server error url: ".concat(s.url," status: ").concat(s.status));case 18:a("refreshAvailable",i),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](1),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[1,21]])})))()},addCurrency:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.dispatch,r.prev=1,t){r.next=4;break}return r.abrupt("return");case 4:return n=JSON.stringify(t),r.next=7,fetch("".concat("https://mybudgetproject.herokuapp.com","/currency"),{method:"POST",headers:{"Content-type":"application/json"},body:n});case 7:if(i=r.sent,!i.ok){r.next=13;break}return r.next=11,a("getCurrencyData");case 11:r.next=14;break;case 13:console.error("server error url: ".concat(i.url," status: ").concat(i.status));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](1),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[1,16]])})))()},removeCurrencyById:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,e.commit,n=e.dispatch,r.prev=1,t){r.next=4;break}return r.abrupt("return");case 4:return i=a.getCurrencyById(t),r.next=7,fetch("".concat("https://mybudgetproject.herokuapp.com","/currency/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 7:if(s=r.sent,!s.ok){r.next=15;break}return r.next=11,n("removeBillsByCurrency",i.symbol);case 11:return r.next=13,n("getCurrencyData");case 13:r.next=16;break;case 15:console.error("server error url: ".concat(s.url," status: ").concat(s.status));case 16:r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](1),console.log(r.t0);case 21:case"end":return r.stop()}}),r,null,[[1,18]])})))()},putCurrencyById:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.currency&&t.id){r.next=4;break}return r.abrupt("return");case 4:return i=a.getCurrencyById(t.id),s={oldName:i.short,newName:t.currency.short},c=JSON.stringify(t.currency),r.next=9,fetch("".concat("https://mybudgetproject.herokuapp.com","/currency/").concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:c});case 9:if(o=r.sent,!o.ok){r.next=18;break}if(s.newName==s.oldName){r.next=14;break}return r.next=14,n("changeCurrencyCode",s);case 14:return r.next=16,n("getCurrencyData");case 16:r.next=19;break;case 18:console.error("server error url: ".concat(o.url," status: ").concat(o.status));case 19:r.next=24;break;case 21:r.prev=21,r.t0=r["catch"](1),console.log(r.t0);case 24:case"end":return r.stop()}}),r,null,[[1,21]])})))()}}},xr={state:{records:[],selectedRecord:{bill:"",type:"Доход",category:"",date:"2020-01-01",sum:0,description:"",id:1}},getters:{getAllRecords:function(e){return e.records},getRecordById:function(e){return function(t){var r=e.records.filter((function(e){return e.id===t}));return r[0]}},getSelectedRecord:function(e){return e.selectedRecord}},mutations:{updateRecords:function(e,t){e.records=t},updateTransfers:function(e,t){e.currencyTransers=t},setSelectedRecord:function(e,t){e.selectedRecord=t}},actions:{getRecordsData:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getters,r=e.commit,t.prev=1,t.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/records"));case 4:if(a=t.sent,!a.ok){t.next=12;break}return t.next=8,a.json();case 8:n=t.sent,r("updateRecords",n),t.next=13;break;case 12:console.error("server error url: ".concat(a.url," status: ").concat(a.status));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},removeRecordsByBill:{handler:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.getters,n=e.dispatch,r.prev=1,r.next=4,a.getAllRecords;case 4:i=r.sent,s=i.filter((function(e){return e.bill===t})),s.forEach(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n("removeRecordById",t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()},root:!0},changeCategoryName:{handler:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.oldName&&t.newName){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,a.getAllRecords;case 6:i=r.sent,s=i.filter((function(e){return e.category==t.oldName})),s.forEach(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={bill:r.bill,category:t.newName,type:r.type,date:r.date,sum:r.sum,description:r.description},i={id:r.id,record:a},e.next=4,n("putRecordById",i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()},root:!0},changeBillName:{handler:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.oldName&&t.newName){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,a.getAllRecords;case 6:i=r.sent,s=i.filter((function(e){return e.bill==t.oldName})),s.forEach(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={bill:t.newName,category:r.category,type:r.type,date:r.date,sum:r.sum,description:r.description},i={id:r.id,record:a},e.next=4,n("putRecordById",i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()},root:!0},addRecord:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.dispatch,r.prev=1,t){r.next=4;break}return r.abrupt("return");case 4:return n=JSON.stringify(t),r.next=7,fetch("".concat("https://mybudgetproject.herokuapp.com","/records"),{method:"POST",headers:{"Content-type":"application/json"},body:n});case 7:if(i=r.sent,!i.ok){r.next=13;break}return r.next=11,a("getRecordsData");case 11:r.next=14;break;case 13:console.error("server error url: ".concat(i.url," status: ").concat(i.status));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](1),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[1,16]])})))()},addTransfer:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i,s,c,o,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,l=function(){return l=Object(b["a"])(regeneratorRuntime.mark((function e(t){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=JSON.stringify(t),e.next=3,fetch("".concat("https://mybudgetproject.herokuapp.com","/records"),{method:"POST",headers:{"Content-type":"application/json"},body:r});case 3:if(a=e.sent,!a.ok){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return console.error("server error url: ".concat(a.url," status: ").concat(a.status)),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)},o=function(e){return l.apply(this,arguments)},n={record:{bill:t.firstBill,sum:t.firstSum,category:"Перевод",type:"Расход",date:t.date,transfer:{rate:t.rate,firstRecordId:1,secondRecordId:1}}},i={record:{bill:t.secondBill,sum:t.secondSum,category:"Перевод",type:"Доход",date:t.date,transfer:{rate:t.rate,firstRecordId:1,secondRecordId:1}}},r.next=8,o(n.record);case 8:return s=r.sent,r.next=11,o(i.record);case 11:return c=r.sent,n.id=s.id,n.record.transfer.firstRecordId=s.id,n.record.transfer.secondRecordId=c.id,i.id=c.id,i.record.transfer.firstRecordId=s.id,i.record.transfer.secondRecordId=c.id,r.t0=a,r.next=21,n;case 21:return r.t1=r.sent,r.next=24,(0,r.t0)("putRecordById",r.t1);case 24:return r.t2=a,r.next=27,i;case 27:return r.t3=r.sent,r.next=30,(0,r.t2)("putRecordById",r.t3);case 30:return r.next=32,a("getRecordsData");case 32:r.next=37;break;case 34:r.prev=34,r.t4=r["catch"](1),console.log(r.t4);case 37:case"end":return r.stop()}}),r,null,[[1,34]])})))()},removeRecordById:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,r.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/records/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 4:if(n=r.sent,!n.ok){r.next=10;break}return r.next=8,a("getRecordsData");case 8:r.next=11;break;case 10:console.error("server error url: ".concat(n.url," status: ").concat(n.status));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](1),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[1,13]])})))()},removeTransfer:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,r.next=4,a("removeRecordById",t.transfer.firstRecordId);case 4:return r.next=6,a("removeRecordById",t.transfer.secondRecordId);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},putRecordById:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.dispatch,r.prev=1,t.record){r.next=4;break}return r.abrupt("return");case 4:return n=JSON.stringify(t.record),r.next=7,fetch("".concat("https://mybudgetproject.herokuapp.com","/records/").concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:n});case 7:if(i=r.sent,!i.ok){r.next=13;break}return r.next=11,a("getRecordsData");case 11:r.next=14;break;case 13:console.error("server error url: ".concat(i.url," status: ").concat(i.status));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](1),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[1,16]])})))()},putTransfer:function(e,t){return Object(b["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,n={record:{bill:t.firstBill,sum:t.firstSum,category:"Перевод",type:"Расход",date:t.date,transfer:{rate:t.rate,firstRecordId:t.firstRecordId,secondRecordId:t.secondRecordId}},id:t.firstRecordId},i={record:{bill:t.secondBill,sum:t.secondSum,category:"Перевод",type:"Доход",date:t.date,transfer:{rate:t.rate,firstRecordId:t.firstRecordId,secondRecordId:t.secondRecordId}},id:t.secondRecordId},r.next=6,a("putRecordById",n);case 6:return r.next=8,a("putRecordById",i);case 8:return r.next=10,a("getRecordsData");case 10:r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](1),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[1,12]])})))()}}},wr={state:{isShowLoader:!1},getters:{isShowLoader:function(e){var t=e.isShowLoader;return t}},mutations:{setLoader:function(e,t){e.isShowLoader=t}},actions:{toggleLoader:function(e,t){var r=e.commit;r("setLoader",t)}}};a["a"].use(y["a"]);var kr=new y["a"].Store({modules:{bill:yr,categories:_r,currency:Cr,record:xr,loader:wr}}),Er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isShow?r("div",{staticClass:"loader-wrapper"},[e._m(0)]):e._e()},Rr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loader"},[r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"1"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"2"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"3"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"4"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"5"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"6"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"7"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"8"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"9"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"10"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"11"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"12"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"13"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"14"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"15"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"16"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"17"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"18"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"19"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"20"}})])}],Br={name:"AppLoader",props:{isShow:{type:Boolean,required:!0}}},jr=Br,Or=(r("3090"),Object(m["a"])(jr,Er,Rr,!1,null,"a74422a0",null)),Sr=Or.exports,$r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-button tooltip",on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},[r("span",{staticClass:"tooltiptext"},[e._v("Добавить")])])},Ar=[],Fr={name:"CreateButton",methods:{clickHandler:function(e){this.$emit("clickButton",{})}}},Dr=Fr,Nr=(r("33bb"),Object(m["a"])(Dr,$r,Ar,!1,null,"5981fa88",null)),Pr=Nr.exports,Ir=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delete-btn",on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},[a("img",{staticClass:"remove",attrs:{src:r("2c46")}})])},qr=[],Lr={name:"DeleteButton",methods:{clickHandler:function(e){this.$emit("clickButton",{})}}},Tr=Lr,Mr=(r("5a75"),Object(m["a"])(Tr,Ir,qr,!1,null,"0c662c95",null)),Hr=Mr.exports,Ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-button",on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},[e._v(" Изменить ")])},Jr=[],Yr={name:"EditButton",methods:{clickHandler:function(e){this.$emit("clickButton",{})}}},zr=Yr,Kr=(r("284a"),Object(m["a"])(zr,Ur,Jr,!1,null,"244358e4",null)),Zr=Kr.exports,Gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isShow?a("div",[a("div",{staticClass:"pagination"},[a("div",{staticClass:"pagination__nuv",on:{click:e.firstPage}},[a("img",{attrs:{src:r("d459"),alt:""}})]),a("div",{staticClass:"pagination__nuv",on:{click:e.prevPage}},[a("img",{attrs:{src:r("d5e2"),alt:""}})]),e._l(e.showPageNumers,(function(t){return a("div",{key:t,staticClass:"pagination__item",class:{current_page:e.currentPage===t},on:{click:function(r){return e.changePage(t)}}},[e._v(" "+e._s(t)+" ")])})),a("div",{staticClass:"pagination__nuv",on:{click:e.nextPage}},[a("img",{attrs:{src:r("35fe"),alt:""}})]),a("div",{staticClass:"pagination__nuv",on:{click:e.lastPage}},[a("img",{attrs:{src:r("da61"),alt:""}})])],2)]):e._e()},Qr=[],Vr=(r("a9e3"),{name:"Pagination",props:{pagesAmount:{type:Number,required:!0},page:{type:Number,required:!0}},computed:{isShow:function(){return!(this.pagesAmount<2)},showPageNumers:function(){var e=[],t=this.page;if(t<4){var r=1;while(1){if(r>this.pagesAmount)break;if(r>7)break;e.push(r),r++}}else{var a=t-3,n=t+3,i=1;while(1){if(i>this.pagesAmount)break;if(i>n)break;i>=a&&e.push(i),i++}}return e}},data:function(){return{currentPage:this.page}},methods:{changePage:function(e){this.currentPage=e},prevPage:function(){this.currentPage>1?this.currentPage--:this.currentPage=1},nextPage:function(){this.currentPage<this.pagesAmount?this.currentPage++:this.currentPage=this.pagesAmount},firstPage:function(){this.currentPage=1},lastPage:function(){this.currentPage=this.pagesAmount}},watch:{currentPage:function(){this.$emit("currentPage",this.currentPage)},page:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.currentPage=e.page;case 1:case"end":return t.stop()}}),t)})))()}}}),Wr=Vr,Xr=(r("0b13"),Object(m["a"])(Wr,Gr,Qr,!1,null,null,null)),ea=Xr.exports,ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"transfer-button",on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},[a("img",{attrs:{src:r("d34f"),alt:""}})])},ra=[],aa={name:"CurrencyTransferButton",methods:{clickHandler:function(e){this.$emit("clickButton",{})}}},na=aa,ia=(r("fd58"),Object(m["a"])(na,ta,ra,!1,null,"0e181bee",null)),sa=ia.exports,ca=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.showModal?r("div",{staticClass:"modal",class:{show:e.showModal},on:{click:e.clickListener}},[r("div",{staticClass:"modal__content"},[r("div",{staticClass:"modal-close__btn"},[e._v("x")]),e._t("default")],2)]):e._e()},oa=[],la={name:"Modal",props:{modalActive:Boolean,required:!0},data:function(){return{showModal:!1}},methods:{closeModal:function(){this.showModal=!1,this.$emit("hideModal",!0)},clickListener:function(e){var t=e.target;t&&(t.classList.contains("modal")||t.classList.contains("modal-close__btn"))&&this.closeModal()}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showModal=e.modalActive,document.addEventListener("keydown",(function(t){"Escape"==t.code&&e.closeModal()}));case 2:case"end":return t.stop()}}),t)})))()},watch:{modalActive:function(){this.showModal=this.modalActive},showModal:function(){this.showModal?document.documentElement.style.overflow="hidden":document.documentElement.style.overflow="auto"}}},ua=la,da=(r("686d"),Object(m["a"])(ua,ca,oa,!1,null,"2197e1a0",null)),ma=da.exports,pa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"bg",on:{click:e.clickListener}},[r("div",{staticClass:"inner"},[r("div",{staticClass:"message"},[e._v(e._s(e.text||"Вы уверены"))]),e._m(0)])])},va=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"buttons"},[r("div",{staticClass:"buttons__item-ok"},[e._v("Да")]),r("div",{staticClass:"buttons__item-cansel"},[e._v("Отменить")])])}],fa={name:"confirmModal",props:{text:{type:String,required:!1},show:{type:Boolean,required:!0}},methods:{clickListener:function(e){var t=e.target;t&&(t.classList.contains("bg")||t.classList.contains("buttons__item-cansel")?this.$emit("result",!1):t.classList.contains("buttons__item-ok")&&this.$emit("result",!0))}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.addEventListener("keydown",(function(t){"Escape"==t.code&&e.$emit("result",!1)}));case 1:case"end":return t.stop()}}),t)})))()}},ha=fa,ba=(r("65a8"),Object(m["a"])(ha,pa,va,!1,null,"8565800a",null)),ga=ba.exports,ya=[Sr,Pr,Hr,Zr,ea,sa,ma,ga];a["a"].config.productionTip=!1,a["a"].use(i.a),ya.forEach((function(e){a["a"].component(e.name,e)})),new a["a"]({store:kr,render:function(e){return e(gr)}}).$mount("#app")},"5a75":function(e,t,r){"use strict";r("bff4")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"65a8":function(e,t,r){"use strict";r("2bce")},"686d":function(e,t,r){"use strict";r("0a51")},"6c2f":function(e,t,r){},"7b0e":function(e,t,r){"use strict";r("c5a5")},"7cb5":function(e,t,r){"use strict";r("8b0f")},"8b0f":function(e,t,r){},9473:function(e,t,r){"use strict";r("3844")},"95ac":function(e,t,r){},"97ee":function(e,t,r){},"9c0c":function(e,t,r){},a78d:function(e,t,r){"use strict";r("2bbf")},bff4:function(e,t,r){},c3d4:function(e,t,r){e.exports=r.p+"img/triangle.df9e8171.svg"},c5a5:function(e,t,r){},cb15:function(e,t,r){"use strict";r("95ac")},ce4f:function(e,t,r){},d34f:function(e,t,r){e.exports=r.p+"img/transfer.1a5dee49.svg"},d459:function(e,t,r){e.exports=r.p+"img/start.30c67d5a.svg"},d5e2:function(e,t,r){e.exports=r.p+"img/prev.95a80410.svg"},da61:function(e,t,r){e.exports=r.p+"img/end.5361f961.svg"},f21c:function(e,t,r){"use strict";r("f9ae")},f3f4:function(e,t,r){e.exports=r.p+"img/refresh.a7cae2c6.svg"},f68d:function(e,t,r){},f9ae:function(e,t,r){},fd58:function(e,t,r){"use strict";r("97ee")}});
//# sourceMappingURL=app.a7e46c18.js.map