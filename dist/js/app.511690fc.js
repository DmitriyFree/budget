(function(e){function t(t){for(var a,i,c=t[0],o=t[1],l=t[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,c=1;c<r.length;c++){var o=r[c];0!==n[o]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0043":function(e,t,r){"use strict";r("cd60")},"0995":function(e,t,r){"use strict";r("4c22")},"0b13":function(e,t,r){"use strict";r("f68d")},"284a":function(e,t,r){"use strict";r("4944")},"2c46":function(e,t,r){e.exports=r.p+"img/delete.fad23f3b.svg"},"33bb":function(e,t,r){"use strict";r("ce4f")},"35c4":function(e,t,r){"use strict";r("6b14")},"35fe":function(e,t,r){e.exports=r.p+"img/next.f854b759.svg"},4944:function(e,t,r){},"4c22":function(e,t,r){},5118:function(e,t,r){},5452:function(e,t,r){"use strict";r("af35")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("d3b7"),r("159b"),r("b0c0");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Header"),r("main-content")],1)},s=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[e._m(0),r("div",{staticClass:"header__title"},[e._v("Budget")]),r("div",{staticClass:"header__date"},[e._v(e._s(e.getDate))])])},c=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header__btn"},[r("div"),r("div"),r("div")])}],o=(r("99af"),{name:"Header",computed:{getDate:function(){var e=new Date;return"".concat(e.getDate()," ").concat(this.convertMonth(e.getMonth())," ").concat(e.getFullYear())}},methods:{convertMonth:function(e){var t="";switch(e){case 0:t="Января";break;case 1:t="Февраля";break;case 2:t="Марта";break;case 3:t="Апреля";break;case 4:t="Мая";break;case 5:t="Июня";break;case 6:t="Июля";break;case 7:t="Августа";break;case 8:t="Сентября";break;case 9:t="Октября";break;case 10:t="Ноября";break;case 11:t="Декабря";break;default:t="Января";break}return t}}}),l=o,u=(r("5452"),r("2877")),d=Object(u["a"])(l,i,c,!1,null,null,null),m=d.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"inner"},[r("div",{staticClass:"inner__left"},[r("div",{staticClass:"menu",on:{click:e.menuListener}},[r("div",{staticClass:"menu__item active",attrs:{"data-id":"balance"}},[e._v("Баланс")]),r("div",{staticClass:"menu__item",attrs:{"data-id":"record"}},[e._v("Записи")]),r("div",{staticClass:"menu__item",attrs:{"data-id":"kat"}},[e._v("Категории")]),r("div",{staticClass:"menu__item",attrs:{"data-id":"bills"}},[e._v("Счета")]),r("div",{staticClass:"menu__item",attrs:{"data-id":"currency"}},[e._v("Валюты")])])]),r("div",{staticClass:"inner__right"},[r("div",{staticClass:"content"},[r("div",{directives:[{name:"show",rawName:"v-show",value:"balance"==e.menuId,expression:"menuId == 'balance'"}],staticClass:"content-item"},[r("balance-handler")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"record"==e.menuId,expression:"menuId == 'record'"}],staticClass:"content-item"},[r("record-handler")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"kat"==e.menuId,expression:"menuId == 'kat'"}],staticClass:"content-item"},[r("category-handler")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"bills"==e.menuId,expression:"menuId == 'bills'"}],staticClass:"content-item"},[r("bill-handler")],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"currency"==e.menuId,expression:"menuId == 'currency'"}],staticClass:"content-item"},[r("currency-handler")],1)])])])},f=[],v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler statistic"},[r("loader"),e._m(0),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Данных пока нет")]):r("table",[r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Название")]),r("th",[e._v("Валюта")]),r("th",[e._v("Нач. баланс")]),r("th",[e._v("Доход")]),r("th",[e._v("Расход")]),r("th",[e._v("Сумма")]),r("th",[e._v("Сумма в "+e._s(e.mainCurrencySymbol))])])]),r("tbody",e._l(e.statisticList,(function(t){return r("tr",{key:t.id},[r("td",[e._v(e._s(t.id))]),r("td",[e._v(e._s(t.name))]),r("td",[e._v(e._s(t.currency))]),r("td",[e._v(e._s(t.startBalance))]),r("td",[e._v(e._s(t.income))]),r("td",[e._v(e._s(t.outcome))]),r("td",[e._v(e._s(t.total))]),r("td",[e._v(e._s(t.inUsd))])])})),0)])]),r("main-currency-handler",{on:{changeCurrency:e.changeMainCurrency}}),r("div",{staticClass:"main"})],1)],1)},h=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Баланс по Счетам")])])}],g=r("1da1"),b=r("5530"),y=(r("96cf"),r("4de4"),r("b680"),r("2f62")),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-currency"},[a("div",{staticClass:"main-currency__title"},[e._v("В качестве основной валюты выбран "+e._s(e.mainCurrency.symbol))]),a("div",{staticClass:"main-currency__btn",on:{click:function(t){e.formActive=!e.formActive}}},[a("span",[e._v(e._s(e.buttonText))]),a("img",{class:{active:e.formActive},attrs:{src:r("c3d4"),alt:""}})])]),a("form",{class:{done:!e.formActive},on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[a("div",{staticClass:"row"},[e._m(0),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedOption=t.target.multiple?r:r[0]}}},e._l(e.getAllCurrencies,(function(t){return a("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.title))])})),0)]),a("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ПОДТВЕРДИТЬ ")])])])},C=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Выберете валюту")]),r("span",{staticClass:"error show"})])}],w={name:"MainCurrencyHandler",computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllCurrencies"])),{},{buttonText:function(){return this.formActive?"Скрыть":"Изменить"}}),data:function(){return{mainCurrency:{symbol:"USD"},selectedOption:{},formActive:!1}},methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])(["putCurrencyById"])),{},{formHandler:function(){this.mainCurrency=this.selectedOption,this.$emit("changeCurrency",this.mainCurrency.symbol),this.formActive=!1}})},x=w,E=(r("94cc"),Object(u["a"])(x,_,C,!1,null,"cc5957ae",null)),k=E.exports,j={components:{MainCurrencyHandler:k},name:"BalanceHandler",computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllRecords","getAllBills","getAllCurrencies","getCurrencyBySymbol"])),{},{statisticList:function(){var e=this,t=this.getAllBills,r=[];return t.forEach((function(t){return r.push(e.countOneBill(t))})),r},isEmptyList:function(){return 0===this.statisticList.length},selectedCurrencyPrice:function(){if("USD"==this.mainCurrencySymbol)return 1;var e=this.getCurrencyBySymbol(this.mainCurrencySymbol);return e.price?e.price:1}}),data:function(){return{mainCurrencySymbol:"USD"}},methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])(["getBillsData","getRecordsData","getCurrencyData","toggleLoader"])),{},{countOneBill:function(e){var t={id:e.id,name:e.name,currency:e.currency,startBalance:e.startBalance,income:0,outcome:0,total:0,inUsd:0},r=this.getAllRecords;return r.forEach((function(e){e.bill==t.name&&("Доход"==e.type?t.income+=+e.sum:t.outcome+=+e.sum)})),t.total=+t.startBalance+t.income-t.outcome,t.inUsd=this.countInSelectedCurrency(t.currency,t.total,this.selectedCurrencyPrice),t},countInSelectedCurrency:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=this.getAllCurrencies,n=a.filter((function(t){return t.symbol==e}));if(n.length>0){var s=n[0].price;return(t/s*r).toFixed(2)}return 0},changeMainCurrency:function(e){this.mainCurrencySymbol=e}}),mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.toggleLoader(!0);case 3:return t.next=5,e.getBillsData();case 5:return t.next=7,e.getRecordsData();case 7:return t.next=9,e.getCurrencyData();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:return t.prev=14,t.next=17,e.toggleLoader(!1);case 17:return t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[0,11,14,18]])})))()}},O=j,R=Object(u["a"])(O,v,h,!1,null,"3275374a",null),B=R.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler"},[r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Счета")]),r("create-button",{staticClass:"btn",on:{clickButton:e.createForm}})],1),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"handler__content-form",class:{done:!e.btnActive}},[r("create-modal",{directives:[{name:"show",rawName:"v-show",value:e.isCreateForm,expression:"isCreateForm"}]},[r("create-bill-form")],1)],1),r("bill-list")],1),r("modal",{directives:[{name:"show",rawName:"v-show",value:e.isPopupForm,expression:"isPopupForm"}]},[r("edit-bill-form")],1),r("confirm-modal",{on:{result:e.removeBill}})],1)},F=[],P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal",class:{show:e.active},on:{click:e.clickListener}},[r("div",{staticClass:"modal__content"},[r("div",{staticClass:"modal-close__btn"},[e._v("x")]),e._t("default")],2)])},A=[],D={name:"EditForm",computed:{active:function(){return this.$store.getters.isCreateForm}},methods:Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changeCreateForm"])),{},{closeModal:function(){this.changeCreateForm(!1)},clickListener:function(e){var t=e.target;t&&(t.classList.contains("modal")||t.classList.contains("modal-close__btn"))&&this.closeModal()}}),mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.addEventListener("keydown",(function(t){"Escape"==t.code&&e.closeModal()}));case 1:case"end":return t.stop()}}),t)})))()},watch:{active:function(){this.active?document.documentElement.style.overflow="hidden":document.documentElement.style.overflow="auto"}}},N=D,T=Object(u["a"])(N,P,A,!1,null,"7e0996c4",null),I=T.exports,$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Список счетов пуст")]):r("div",[r("table",[e._m(0),r("tbody",e._l(e.pageItems,(function(e){return r("bill-item",{key:e.id,attrs:{bill:e}})})),1)]),r("pagination",{attrs:{pagesAmount:e.pageCount,page:e.page},on:{currentPage:e.updateList}})],1)])},L=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Название")]),r("th",[e._v("Валюта")]),r("th",[e._v("Начальный баланс")]),r("th",[e._v("Действие")])])])}],M=r("2ef0"),H=r.n(M),q={data:function(){return{page:1,pageSize:10,pageCount:0,allItems:[],pageItems:[]}},methods:{setupPagination:function(e){this.allItems=H.a.chunk(e,this.pageSize),this.pageCount=H.a.size(this.allItems),this.pageItems=this.allItems[this.page-1]||this.allItems[0]}}},U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[e._v(e._s(e.bill.id))]),r("td",[e._v(e._s(e.bill.name))]),r("td",[e._v(e._s(e.bill.currency))]),r("td",[e._v(e._s(e.bill.startBalance))]),r("td",[r("div",{staticClass:"td-btn"},[r("edit-button",{staticClass:"edit__btn",on:{clickButton:e.editBill}}),r("delete-button",{staticClass:"remove__btn",on:{clickButton:e.confirm}})],1)])])},J=[],Y={name:"BillItem",props:{bill:{type:Object,required:!0}},computed:Object(b["a"])({},Object(y["c"])(["getConfirmResult"])),methods:Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changePopupForm","setSelectedBill","setConfirmModalText"])),{},{editBill:function(){this.setSelectedBill(this.bill),this.changePopupForm(!0)},confirm:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setConfirmModalText("Вы уверены? Будут удалены все связанные записи");case 2:e.setSelectedBill(e.bill);case 3:case"end":return t.stop()}}),t)})))()}})},z=Y,K=Object(u["a"])(z,U,J,!1,null,null,null),Z=K.exports,G={components:{BillItem:Z},mixins:[q],computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllBills"])),{},{isEmptyList:function(){return 0===this.getAllBills.length}}),methods:{updateList:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.page=e,r.next=3,t.setupPagination(t.getAllBills);case 3:case"end":return r.stop()}}),r)})))()}},watch:{getAllBills:function(){this.setupPagination(this.getAllBills)}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setupPagination(e.getAllBills);case 2:case"end":return t.stop()}}),t)})))()}},Q=G,V=Object(u["a"])(Q,$,L,!1,null,"23015e38",null),W=V.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"title"},[e._v("Новый Счет")]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Название")]),r("span",{staticClass:"error show"},[e._v(e._s(e.nameError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.name,expression:"candidate.name"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.name},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"name",t.target.value)},e.resetNameError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Валюта")]),r("span",{staticClass:"error"},[e._v(e._s(e.currencyError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.currency,expression:"candidate.currency"}],attrs:{required:""},on:{input:e.resetCurrencyError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"currency",t.target.multiple?r:r[0])}}},e._l(e.getAllCurrencies,(function(t){return r("option",{key:t.id},[e._v(e._s(t.symbol))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Начальный баланс")]),r("span",{staticClass:"error"},[e._v(e._s(e.startBalanceError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.startBalance,expression:"candidate.startBalance"}],attrs:{type:"text"},domProps:{value:e.candidate.startBalance},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"startBalance",t.target.value)},e.resetStartBalanceError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ДОБАВИТЬ ")])])])},ee=[],te={name:"CreateBillForm",data:function(){return{candidate:{name:"",currency:"",startBalance:0},nameError:"",currencyError:"",startBalanceError:""}},computed:Object(y["c"])(["getAllCurrencies"]),methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["b"])(["getCurrencyData","addBill"])),Object(y["d"])(["changeCreateForm"])),{},{formHandler:function(){this.checkFormData()&&(this.addBill(this.candidate),this.resetForm(),this.changeCreateForm(!1))},checkFormData:function(){return!!this.candidate.name&&(this.candidate.name.length<3&&(this.nameError="минимум 3 символа"),this.candidate.name.length>20&&(this.nameError="максимум 20 символов"),this.candidate.currency||(this.currencyError="выбирете валюту"),isNaN(this.candidate.startBalance)&&(this.startBalanceError="только число"),!(this.nameError||this.currencyError||this.startBalanceError))},resetNameError:function(){this.nameError=""},resetCurrencyError:function(){this.currencyError=""},resetStartBalanceError:function(){this.startBalanceError=""},resetForm:function(){this.candidate.name="",this.candidate.currency="",this.candidate.startBalance=0}}),watch:{getAllCurrencies:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.getAllCurrencies,0==r.length?e.currencyError="у вас нет валют":"у вас нет валют"===e.currencyError&&(e.currencyError="");case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrencyData();case 2:case"end":return t.stop()}}),t)})))()}},re=te,ae=Object(u["a"])(re,X,ee,!1,null,"21a7aff2",null),ne=ae.exports,se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-button tooltip",on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},[r("span",{staticClass:"tooltiptext"},[e._v("Добавить")])])},ie=[],ce={name:"CreateButton",methods:{clickHandler:function(e){this.$emit("clickButton",{})}}},oe=ce,le=(r("33bb"),Object(u["a"])(oe,se,ie,!1,null,"5981fa88",null)),ue=le.exports,de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Название")]),r("span",{staticClass:"error show"},[e._v(e._s(e.nameError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.name,expression:"candidate.name"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.name},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"name",t.target.value)},e.resetNameError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Валюта")]),r("span",{staticClass:"error show"},[e._v(e._s(e.currencyError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.currency,expression:"candidate.currency"}],attrs:{required:""},on:{input:e.resetCurrencyError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"currency",t.target.multiple?r:r[0])}}},e._l(e.getAllCurrencies,(function(t){return r("option",{key:t.id},[e._v(e._s(t.symbol))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Начальный баланс")]),r("span",{staticClass:"error"},[e._v(e._s(e.startBalanceError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.startBalance,expression:"candidate.startBalance"}],attrs:{type:"text"},domProps:{value:e.candidate.startBalance},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"startBalance",t.target.value)},e.resetStartBalanceError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},me=[],pe={name:"EditBillForm",computed:Object(b["a"])({},Object(y["c"])(["getSelectedBill","getAllCurrencies"])),data:function(){return{candidate:{id:1,name:"",currency:"",startBalance:0},nameError:"",currencyError:"",startBalanceError:""}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["b"])(["putBillById"])),Object(y["d"])(["changePopupForm"])),{},{formHandler:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormData()){t.next=2;break}return t.abrupt("return");case 2:r={id:e.candidate.id,bill:{name:e.candidate.name,currency:e.candidate.currency,startBalance:e.candidate.startBalance}},e.putBillById(r),e.changePopupForm(!1);case 5:case"end":return t.stop()}}),t)})))()},checkFormData:function(){return!!this.candidate.name&&(this.candidate.name.length<3&&(this.nameError="минимум 3 символа"),this.candidate.name.length>20&&(this.nameError="максимум 20 символов"),this.candidate.currency||(this.currencyError="выбирете тип"),isNaN(this.candidate.startBalance)&&(this.startBalanceError="только число"),!(this.nameError||this.currencyError||this.startBalanceError))},resetNameError:function(){this.nameError=""},resetCurrencyError:function(){this.currencyError=""},resetStartBalanceError:function(){this.startBalanceError=""}}),watch:{getSelectedBill:function(){this.candidate=Object(b["a"])({},this.getSelectedBill)}}},fe=pe,ve=Object(u["a"])(fe,de,me,!1,null,"bd25ce9a",null),he=ve.exports,ge={components:{BillList:W,CreateBillForm:ne,CreateModal:I,CreateButton:ue,EditBillForm:he},name:"BillHandler",computed:Object(b["a"])({},Object(y["c"])(["isCreateForm","isPopupForm","getConfirmResult","getSelectedBill"])),data:function(){return{btnActive:!1}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changeCreateForm","setConfirmResult"])),Object(y["b"])(["removeBillById"])),{},{createForm:function(){this.changeCreateForm(!0)},removeBill:function(e){if(e){var t=this.getSelectedBill.id;this.removeBillById(t)}}})},be=ge,ye=Object(u["a"])(be,S,F,!1,null,"20d185d8",null),_e=ye.exports,Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler"},[r("loader"),r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Категории")]),r("create-button",{staticClass:"btn",on:{clickButton:e.createForm}})],1),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"handler__content-form",class:{done:!e.btnActive}},[r("create-modal",{directives:[{name:"show",rawName:"v-show",value:e.isCreateForm,expression:"isCreateForm"}]},[r("create-category-form")],1)],1),r("categories-list")],1),r("modal",{directives:[{name:"show",rawName:"v-show",value:e.isPopupForm,expression:"isPopupForm"}]},[r("edit-category-form")],1),r("confirm-modal",{on:{result:e.removeCategory}})],1)},we=[],xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Список категорий пуст")]):r("div",[r("table",{staticClass:"cate"},[e._m(0),r("tbody",e._l(e.pageItems,(function(e){return r("category-item",{key:e.id,attrs:{category:e}})})),1)]),r("pagination",{attrs:{pagesAmount:e.pageCount,page:e.page},on:{currentPage:e.updateList}})],1)])},Ee=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Название")]),r("th",[e._v("Тип")]),r("th",{staticClass:"dd"},[e._v("Действие")])])])}],ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[e._v(e._s(e.category.id))]),r("td",[e._v(e._s(e.category.name))]),r("td",[e._v(e._s(e.category.type))]),r("td",{staticClass:"action"},[r("div",{staticClass:"td-btn"},[r("edit-button",{staticClass:"edit__btn",on:{clickButton:e.editCategory}}),r("delete-button",{staticClass:"remove__btn",on:{clickButton:e.confirm}})],1)])])},je=[],Oe={name:"CategoryItem",props:{category:{type:Object,required:!0}},computed:Object(b["a"])({},Object(y["c"])(["getConfirmResult"])),methods:Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changePopupForm","setSelectedCategory","setConfirmModalText"])),{},{editCategory:function(){this.setSelectedCategory(this.category),this.changePopupForm(!0)},confirm:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setConfirmModalText("Вы уверены? Будут удалены все связанные записи");case 2:e.setSelectedCategory(e.category);case 3:case"end":return t.stop()}}),t)})))()}})},Re=Oe,Be=Object(u["a"])(Re,ke,je,!1,null,null,null),Se=Be.exports,Fe={components:{CategoryItem:Se},name:"CategoriesList",mixins:[q],computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllCategories"])),{},{isEmptyList:function(){return 0===this.getAllCategories.length}}),methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])(["getCategoriesData"])),{},{updateList:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.page=e,r.next=3,t.setupPagination(t.getAllCategories);case 3:case"end":return r.stop()}}),r)})))()}}),watch:{getAllCategories:function(){this.setupPagination(this.getAllCategories)}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCategoriesData();case 2:return t.next=4,e.setupPagination(e.getAllCategories);case 4:case"end":return t.stop()}}),t)})))()}},Pe=Fe,Ae=Object(u["a"])(Pe,xe,Ee,!1,null,"d8c593e2",null),De=Ae.exports,Ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"title"},[e._v("Добавить Категорию")]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Название")]),r("span",{staticClass:"error"},[e._v(e._s(e.nameError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.name,expression:"candidate.name"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.name},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"name",t.target.value)},e.resetNameError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Тип")]),r("span",{staticClass:"error"},[e._v(e._s(e.typeError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.type,expression:"candidate.type"}],staticClass:"category-form__type form-row",attrs:{required:""},on:{input:e.resetTypeError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{selected:"",value:"Доход"}},[e._v("Доход")]),r("option",{attrs:{value:"Расход"}},[e._v("Расход")])])]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ДОБАВИТЬ ")])])])},Te=[],Ie=(r("e9c4"),{name:"CreateCategoryForm",data:function(){return{candidate:{name:"",type:""},nameError:"",typeError:""}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["b"])(["addCategory"])),Object(y["d"])(["changeCreateForm"])),{},{formHandler:function(){this.checkFormData()&&(this.addCategory(JSON.stringify(this.candidate)),this.resetForm(),this.changeCreateForm(!1))},checkFormData:function(){return!!this.candidate.name&&(this.candidate.name.length<3&&(this.nameError="минимум 3 символа"),this.candidate.name.length>20&&(this.nameError="максимум 20 символов"),this.candidate.type||(this.typeError="выбирете тип"),!this.nameError&&!this.typeError)},resetNameError:function(){this.nameError=""},resetTypeError:function(){this.typeError=""},resetForm:function(){this.candidate.name="",this.candidate.type=""}})}),$e=Ie,Le=Object(u["a"])($e,Ne,Te,!1,null,"9400b6ae",null),Me=Le.exports,He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Название")]),r("span",{staticClass:"error"},[e._v(e._s(e.nameError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.name,expression:"candidate.name"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.name},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"name",t.target.value)},e.resetNameError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Тип")]),r("span",{staticClass:"error"},[e._v(e._s(e.typeError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.type,expression:"candidate.type"}],attrs:{required:""},on:{input:e.resetTypeError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"type",t.target.multiple?r:r[0])}}},[r("option",[e._v("Доход")]),r("option",[e._v("Расход")])])]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},qe=[],Ue={name:"EditCategoryForm",computed:Object(b["a"])({},Object(y["c"])(["getSelectedCategory"])),data:function(){return{candidate:{id:0,name:"",type:""},nameError:"",typeError:""}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["b"])(["putCategoryById"])),Object(y["d"])(["changePopupForm"])),{},{formHandler:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormData()){t.next=2;break}return t.abrupt("return");case 2:return r={id:e.candidate.id,category:{name:e.candidate.name,type:e.candidate.type}},t.next=5,e.putCategoryById(r);case 5:e.changePopupForm(!1);case 6:case"end":return t.stop()}}),t)})))()},checkFormData:function(){return!!this.candidate.name&&(this.candidate.name.length<3&&(this.nameError="минимум 3 символа"),this.candidate.name.length>20&&(this.nameError="максимум 20 символов"),this.candidate.type||(this.typeError="выбирете тип"),!this.nameError&&!this.typeError)},resetNameError:function(){this.nameError=""},resetTypeError:function(){this.typeError=""}}),watch:{getSelectedCategory:function(){this.candidate=Object(b["a"])({},this.getSelectedCategory)}}},Je=Ue,Ye=Object(u["a"])(Je,He,qe,!1,null,"8bf460bc",null),ze=Ye.exports,Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.getConfirmModalText,expression:"getConfirmModalText"}],staticClass:"bg",on:{click:e.clickListener}},[r("div",{staticClass:"inner"},[r("div",{staticClass:"message"},[e._v(e._s(e.getConfirmModalText))]),e._m(0)])])},Ze=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"buttons"},[r("div",{staticClass:"buttons__item-ok"},[e._v("Да")]),r("div",{staticClass:"buttons__item-cansel"},[e._v("Отменить")])])}],Ge={name:"confirmModal",computed:Object(b["a"])({},Object(y["c"])(["getConfirmModalText"])),methods:Object(b["a"])(Object(b["a"])({},Object(y["d"])(["setConfirmModalText"])),{},{clickListener:function(e){var t=e.target;t&&(t.classList.contains("bg")||t.classList.contains("buttons__item-cansel")?(this.$emit("result",!1),this.setConfirmModalText("")):t.classList.contains("buttons__item-ok")&&(this.$emit("result",!0),this.setConfirmModalText("")))}}),watch:{getConfirmModalText:function(){this.getConfirmModalText?document.documentElement.style.overflow="hidden":document.documentElement.style.overflow="auto"}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.addEventListener("keydown",(function(t){"Escape"==t.code&&(e.$emit("result",!1),e.setConfirmModalText(""))}));case 1:case"end":return t.stop()}}),t)})))()}},Qe=Ge,Ve=(r("ee25"),Object(u["a"])(Qe,Ke,Ze,!1,null,"687ad564",null)),We=Ve.exports,Xe={components:{CreateCategoryForm:Me,CategoriesList:De,CreateModal:I,EditCategoryForm:ze,ConfirmModal:We},name:"CategoryHandler",computed:Object(b["a"])({},Object(y["c"])(["isCreateForm","isPopupForm","getConfirmResult","getSelectedCategory"])),data:function(){return{btnActive:!1}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changeCreateForm","setConfirmResult"])),Object(y["b"])(["removeCategoryById"])),{},{createForm:function(){this.changeCreateForm(!0)},removeCategory:function(e){if(e){var t=this.getSelectedCategory.id;this.removeCategoryById(t)}}})},et=Xe,tt=Object(u["a"])(et,Ce,we,!1,null,"a3eefdaa",null),rt=tt.exports,at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler"},[r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Валюты")]),r("create-button",{staticClass:"btn",on:{clickButton:e.createForm}})],1),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"handler__content-form",class:{done:!e.btnActive}},[r("create-modal",{directives:[{name:"show",rawName:"v-show",value:e.isCreateForm,expression:"isCreateForm"}]},[r("create-currency-form")],1)],1),r("currency-list")],1),r("modal",{directives:[{name:"show",rawName:"v-show",value:e.isPopupForm,expression:"isPopupForm"}]},[r("edit-currency-form")],1),r("confirm-modal",{on:{result:e.removeCurrency}})],1)},nt=[],st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-form"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[a("div",{staticClass:"title"},[e._v("Добавить Валюту")]),a("div",{staticClass:"row"},[e._m(0),a("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.symbol,expression:"candidate.symbol"}],attrs:{required:""},on:{input:e.selectCurrencyHandler,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"symbol",t.target.multiple?r:r[0])}}},e._l(e.getAvailableCurrenceis,(function(t){return a("option",{key:t.symbol,domProps:{value:t.symbol}},[e._v(e._s(t.symbol)+" "+e._s(t.name))])})),0)]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Код")]),a("span",{staticClass:"error show"},[e._v(e._s(e.shortError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.symbol,expression:"candidate.symbol"}],attrs:{type:"text",required:"",disabled:""},domProps:{value:e.candidate.symbol},on:{input:function(t){t.target.composing||e.$set(e.candidate,"symbol",t.target.value)}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Название")]),a("span",{staticClass:"error show"},[e._v(e._s(e.titleError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.title,expression:"candidate.title"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.title},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"title",t.target.value)},e.resetTitleError]}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Курс к 1USD")]),a("span",{staticClass:"error show"},[e._v(e._s(e.rateError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.price,expression:"candidate.price"}],attrs:{type:"text",required:"",disabled:e.isMainCurrency},domProps:{value:e.candidate.price},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"price",t.target.value)},e.resetRateError]}})]),a("div",{staticClass:"row-refresh"},[a("span",{staticClass:"error show"},[e._v(e._s(e.refreshError))]),a("div",{staticClass:"wrap"},[a("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.getPrice.apply(null,arguments)}}},[e._v(" Обновить курс ")]),a("img",{staticClass:"img",class:{spin:e.isSpin},attrs:{src:r("f3f4")}})])]),a("button",{staticClass:"row btn",attrs:{type:"submit"},on:{input:e.resetRateError}},[e._v(" ДОБАВИТЬ ")])])])},it=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Выберете валюту")])])}],ct=(r("7db0"),{name:"CreateCurrencyForm",computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAvailableCurrenceis"])),{},{isMainCurrency:function(){if("USD"===this.candidate.symbol)return this.candidate.price=1,!0}}),data:function(){return{candidate:{title:"",symbol:"",price:1},titleError:"",shortError:"",rateError:"",refreshError:"",isSpin:!1}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["b"])(["addCurrency","refreshPrice"])),Object(y["c"])(["getAllCurrencies"])),Object(y["d"])(["changeCreateForm"])),{},{selectCurrencyHandler:function(e){this.resetShortError();var t=e.target.value,r=this.getAvailableCurrenceis.find((function(e){return e.symbol===t}));this.candidate.title=r.name,this.resetRefreshError(),this.isCurrencyCode(t)&&(this.shortError="валюта уже существует")},getPrice:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.candidate.price){t.next=13;break}if(e.candidate.symbol){t.next=5;break}e.refreshError="валюта не выбрана",t.next=11;break;case 5:return e.isSpin=!0,t.next=8,e.refreshPrice();case 8:r=e.getAvailableCurrenceis.find((function(t){return t.symbol===e.candidate.symbol})),e.candidate.price=r.price,e.isSpin=!1;case 11:t.next=14;break;case 13:e.candidate.price=1;case 14:case"end":return t.stop()}}),t)})))()},formHandler:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkFormData()){t.next=8;break}return e.main&&e.resetMainCurrency(),t.next=4,e.addCurrency(e.candidate);case 4:e.resetForm(),e.changeCreateForm(!1),t.next=8;break;case 8:case"end":return t.stop()}}),t)})))()},checkFormData:function(){return!(!this.candidate.title&&!this.candidate.symbol)&&(this.candidate.symbol=this.candidate.symbol.toUpperCase(),this.candidate.title.length<3&&(this.titleError="минимум 3 символа"),this.candidate.title.length>25&&(this.titleError="максимум 25 символов"),3!=this.candidate.symbol.length&&(this.shortError="длина 3 символа"),this.isCurrencyCode(this.candidate.symbol)&&(this.shortError="валюта уже существует"),isNaN(this.candidate.price)&&(this.rateError="только число"),!(this.titleError||this.shortError||this.rateError))},isCurrencyCode:function(e){var t=!1,r=this.getAllCurrencies();return r.forEach((function(r){r.symbol==e&&(t=!0)})),t},resetTitleError:function(){this.titleError=""},resetShortError:function(){this.shortError=""},resetRateError:function(){this.rateError=""},resetRefreshError:function(){this.refreshError=""},resetForm:function(){this.candidate.title="",this.candidate.symbol="",this.candidate.price=1}})}),ot=ct,lt=(r("0043"),Object(u["a"])(ot,st,it,!1,null,"09c67cda",null)),ut=lt.exports,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Список валют пуст")]):r("div",[r("table",[e._m(0),r("tbody",e._l(e.pageItems,(function(e){return r("currency-item",{key:e.id,attrs:{currency:e}})})),1)]),r("pagination",{attrs:{pagesAmount:e.pageCount,page:e.page},on:{currentPage:e.updateList}})],1)])},mt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Название")]),r("th",[e._v("Код")]),r("th",[e._v("Курс к USD")]),r("th",[e._v("Действие")])])])}],pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[e._v(e._s(e.currency.id))]),r("td",[e._v(e._s(e.currency.title))]),r("td",[e._v(e._s(e.currency.symbol))]),r("td",[e._v(e._s(e.currency.price))]),r("td",[r("div",{staticClass:"td-btn"},[r("edit-button",{staticClass:"edit__btn",on:{clickButton:e.edit}}),r("delete-button",{staticClass:"remove__btn",on:{clickButton:e.confirm}})],1)])])},ft=[],vt={name:"CurrencyItem",props:{currency:{type:Object,required:!0}},computed:Object(b["a"])({},Object(y["c"])(["getConfirmResult"])),methods:Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changePopupForm","setSelectedCurrency","setConfirmModalText"])),{},{edit:function(){this.setSelectedCurrency(this.currency),this.changePopupForm(!0)},confirm:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setConfirmModalText("Вы уверены? Будут удалены все связанные записи");case 2:e.setSelectedCurrency(e.currency);case 3:case"end":return t.stop()}}),t)})))()}})},ht=vt,gt=Object(u["a"])(ht,pt,ft,!1,null,"f265aeba",null),bt=gt.exports,yt={components:{CurrencyItem:bt},name:"CurrencyList",mixins:[q],computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllCurrencies"])),{},{isEmptyList:function(){return 0===this.getAllCurrencies.length}}),methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])(["getCurrencyData"])),{},{updateList:function(e){this.page=e,this.setupPagination(this.getAllCurrencies)}}),watch:{getAllCurrencies:function(){this.setupPagination(this.getAllCurrencies)}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrencyData();case 2:return t.next=4,e.setupPagination(e.getAllCurrencies);case 4:case"end":return t.stop()}}),t)})))()}},_t=yt,Ct=Object(u["a"])(_t,dt,mt,!1,null,"e5fdd89c",null),wt=Ct.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-form"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Код")]),a("span",{staticClass:"error show"},[e._v(e._s(e.shortError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.symbol,expression:"candidate.symbol"}],attrs:{type:"text",disabled:"",required:""},domProps:{value:e.candidate.symbol},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"symbol",t.target.value)},e.resetShortError]}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[a("label",[e._v("Название")]),a("span",{staticClass:"error show"},[e._v(e._s(e.titleError))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.title,expression:"candidate.title"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.title},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"title",t.target.value)},e.resetTitleError]}})]),a("div",{staticClass:"row"},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.price,expression:"candidate.price"}],attrs:{type:"text",disabled:e.isMainCurrency,required:""},domProps:{value:e.candidate.price},on:{input:function(t){t.target.composing||e.$set(e.candidate,"price",t.target.value)}}})]),a("div",{staticClass:"row-refresh"},[a("span",{staticClass:"error show"},[e._v(e._s(e.refreshError))]),a("div",{staticClass:"wrap"},[a("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.getPrice.apply(null,arguments)}}},[e._v(" Обновить курс ")]),a("img",{staticClass:"img",attrs:{src:r("f3f4")}})])]),a("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},Et=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Курс к USD")]),r("span",{staticClass:"error show"})])}],kt={name:"EditCurrencyForm",props:["currency"],computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getSelectedCurrency","getAvailableCurrenceis"])),{},{isMainCurrency:function(){if("USD"===this.candidate.symbol)return this.candidate.price=1,!0}}),data:function(){return{candidate:{id:1,title:"",symbol:"",price:1},titleError:"",shortError:"",rateError:"",refreshError:""}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["b"])(["putCurrencyById","refreshPrice"])),Object(y["d"])(["changePopupForm"])),Object(y["c"])(["getAllCurrencies"])),{},{formHandler:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormData()){t.next=2;break}return t.abrupt("return");case 2:if(!e.main){t.next=6;break}return t.next=5,e.changeMainCurrency(e.id);case 5:e.rate=1;case 6:return r={id:e.candidate.id,currency:{title:e.candidate.title,symbol:e.candidate.symbol,price:e.candidate.price}},t.next=9,e.putCurrencyById(r);case 9:e.changePopupForm(!1);case 10:case"end":return t.stop()}}),t)})))()},getPrice:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.candidate.price){t.next=11;break}if(e.candidate.symbol){t.next=5;break}e.refreshError="валюта не выбрана",t.next=9;break;case 5:return t.next=7,e.refreshPrice();case 7:r=e.getAvailableCurrenceis.find((function(t){return t.symbol===e.candidate.symbol})),e.candidate.price=r.price;case 9:t.next=12;break;case 11:e.candidate.price=1;case 12:case"end":return t.stop()}}),t)})))()},checkFormData:function(){return!(!this.candidate.title&&!this.candidate.symbol)&&(this.candidate.title.length<3&&(this.titleError="минимум 3 символа"),this.candidate.title.length>25&&(this.titleError="максимум 25 символов"),this.isCurrencyCode(this.candidate.symbol)&&(this.shortError="не уникальный код"),3!=this.candidate.symbol.length&&(this.shortError="длина 3 символа"),!this.titleError&&!this.shortError)},isCurrencyCode:function(e){var t=!1,r=this.getAllCurrencies();return r.forEach((function(r){r.price==e&&(t=!0)})),t},resetTitleError:function(){this.titleError=""},resetShortError:function(){this.shortError=""},resetRateError:function(){this.rateError=""},resetRefreshError:function(){this.refreshError=""}}),watch:{getSelectedCurrency:function(){this.candidate=Object(b["a"])({},this.getSelectedCurrency)}}},jt=kt,Ot=Object(u["a"])(jt,xt,Et,!1,null,"439fc790",null),Rt=Ot.exports,Bt={components:{CreateCurrencyForm:ut,CurrencyList:wt,MainCurrencyHandler:k,CreateModal:I,CreateButton:ue,EditCurrencyForm:Rt},name:"CurrencyHandler",computed:Object(b["a"])({},Object(y["c"])(["getMainCurrency","isCreateForm","isPopupForm","getConfirmResult","getSelectedCurrency"])),data:function(){return{btnActive:!1}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["b"])(["getCurrencyData","removeCurrencyById"])),Object(y["d"])(["changeCreateForm","setConfirmResult"])),{},{createForm:function(){this.changeCreateForm(!0)},removeCurrency:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e&&(a=t.getSelectedCurrency.id,t.removeCurrencyById(a));case 1:case"end":return r.stop()}}),r)})))()}}),mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getCurrencyData();case 1:case"end":return t.stop()}}),t)})))()}},St=Bt,Ft=Object(u["a"])(St,at,nt,!1,null,"ebca67f4",null),Pt=Ft.exports,At=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"handler"},[r("div",{staticClass:"handler__header"},[r("div",{staticClass:"title"},[e._v("Записи")]),r("create-button",{staticClass:"btn",on:{clickButton:e.createForm}}),r("currency-transfer-button",{staticClass:"btn",on:{clickButton:e.enterTransferForm}})],1),r("div",{staticClass:"handler__content"},[r("div",{staticClass:"handler__content-form",class:{done:!e.btnActive}},[r("create-modal",{directives:[{name:"show",rawName:"v-show",value:e.isCreateForm,expression:"isCreateForm"}]},[r("create-record-form")],1),r("modal",{directives:[{name:"show",rawName:"v-show",value:e.createTransferForm,expression:"createTransferForm"}],on:{closeForm:e.closeTranserForm}},[r("transfer-currency-form",{on:{hideForm:e.closeTranserForm}})],1)],1),r("records")],1),r("modal",{directives:[{name:"show",rawName:"v-show",value:e.showEditRecordForm,expression:"showEditRecordForm"}]},[r("edit-record-form",{on:{hideForm:e.closeEditRecordForm}})],1),e.showTransferForm?r("modal",{on:{closeForm:e.closeEditTransferForm}},[r("edit-transfer-form",{attrs:{firstRecord:e.firstRecord,secondRecord:e.secondRecord},on:{hideForm:e.closeEditTransferForm}})],1):e._e(),r("confirm-modal",{on:{result:e.removeRecord}})],1)},Dt=[],Nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-form"},[r("div",{staticClass:"choice"},[r("div",{staticClass:"choice__income",class:{active:e.candidate.income},on:{click:e.clickIncome}},[e._v("Доход")]),r("div",{staticClass:"choice__outcome",class:{active:!e.candidate.income},on:{click:e.clickOutcome}},[e._v("Расход")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.candidate.income,expression:"candidate.income === true"}]},[r("form",{staticClass:"record-form",on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Счет")]),r("span",{staticClass:"error"},[e._v(e._s(e.billError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.bill,expression:"candidate.bill"}],attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"bill",t.target.multiple?r:r[0])}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Категория")]),r("span",{staticClass:"error"},[e._v(e._s(e.categoryError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.category,expression:"candidate.category"}],attrs:{required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"category",t.target.multiple?r:r[0])}}},e._l(e.incomeCategories,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.sumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.sum,expression:"candidate.sum"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.sum},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"sum",t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.date,expression:"candidate.date"}],attrs:{type:"date",required:""},domProps:{value:e.candidate.date},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"date",t.target.value)},e.resetDateError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Описание")]),r("span",{staticClass:"error"},[e._v(e._s(e.descriptionError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.description,expression:"candidate.description"}],attrs:{type:"text"},domProps:{value:e.candidate.description},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"description",t.target.value)},e.resetDescriptionError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ДОБАВИТЬ ")])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.candidate.income,expression:"candidate.income === false"}]},[r("form",{staticClass:"record-form",on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Счет")]),r("span",{staticClass:"error"},[e._v(e._s(e.billError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.bill,expression:"candidate.bill"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"bill",t.target.multiple?r:r[0])}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Категория")]),r("span",{staticClass:"error"},[e._v(e._s(e.categoryError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.category,expression:"candidate.category"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"category",t.target.multiple?r:r[0])}}},e._l(e.outcomeCategories,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.sumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.sum,expression:"candidate.sum"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.sum},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"sum",t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.date,expression:"candidate.date"}],attrs:{type:"date",required:""},domProps:{value:e.candidate.date},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"date",t.target.value)},e.resetDateError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Описание")]),r("span",{staticClass:"error"},[e._v(e._s(e.descriptionError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.description,expression:"candidate.description"}],attrs:{type:"text"},domProps:{value:e.candidate.description},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"description",t.target.value)},e.resetDescriptionError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" ДОБАВИТЬ ")])])])])},Tt=[],It=(r("a4d3"),r("e01a"),{name:"CreateRecordForm",data:function(){return{candidate:{income:!0,bill:"",category:"",sum:"",date:"",description:""},billError:"",categoryError:"",sumError:"",dateError:"",descriptionError:""}},computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllCategories","getAllBills"])),{},{incomeCategories:function(){return this.getAllCategories.filter((function(e){return"Доход"==e.type}))},outcomeCategories:function(){return this.getAllCategories.filter((function(e){return"Расход"==e.type}))}}),methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["b"])(["getBillsData","putBillById","addRecord"])),Object(y["d"])(["changeCreateForm"])),{},{clickIncome:function(){this.candidate.income=!0},clickOutcome:function(){this.candidate.income=!1},formHandler:function(){if(this.checkFormData()){var e="Доход";this.candidate.income||(e="Расход");var t={bill:this.candidate.bill,type:e,category:this.candidate.category,date:this.candidate.date,sum:this.candidate.sum,description:this.candidate.description};this.changeCreateForm(!1),this.addRecord(t),this.resetForm()}},checkFormData:function(){return!(!this.candidate.bill||!this.candidate.category)&&(this.candidate.description.length>20&&(this.descriptionError="максимум 20 символов"),this.candidate.date||(this.dateError="выберите дату"),isNaN(this.candidate.sum)&&(this.sumError="только число"),!(this.billError||this.categoryError||this.sumError||this.dateError||this.descriptionError))},resetSumError:function(){this.sumError=""},resetDateError:function(){this.dateError=""},resetDescriptionError:function(){this.descriptionError=""},resetForm:function(){this.candidate.bill="",this.candidate.category="",this.candidate.sum="",this.candidate.category=""},getCurrentData:function(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1;t<10&&(t="0"+t);var r=(new Date).getDate();return r<10&&(r="0"+r),"".concat(e,"-").concat(t,"-").concat(r)}}),watch:{getAllBills:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.getAllBills,0==r.length?e.billError="у вас еще не щетов":"у вас еще не щетов"===e.billError&&(e.billError="");case 2:case"end":return t.stop()}}),t)})))()},getAllCategories:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.getAllCategories,0==r.length?e.categoryError="у вас нет категории":"у вас нет категории"===e.categoryError&&(e.categoryError="");case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getBillsData(),e.candidate.date=e.getCurrentData();case 2:case"end":return t.stop()}}),t)})))()}}),$t=It,Lt=(r("e45c"),Object(u["a"])($t,Nt,Tt,!1,null,"29e804f1",null)),Mt=Lt.exports,Ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"pick"},[r("div",{staticClass:"pick__title"},[e._v("Сортировать")]),r("div",{staticClass:"pick__bill"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.billName,expression:"billName"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.billName=t.target.multiple?r:r[0]}}},[r("option",[e._v("Все")]),e._l(e.getAllBills,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])}))],2)]),r("div",{staticClass:"pick__type",on:{click:e.selectTypeHandler}},[r("div",{staticClass:"pick__type-item left  active",attrs:{"data-type-record":"Все"}},[e._v("Все")]),r("div",{staticClass:"pick__type-item",attrs:{"data-type-record":"Доход"}},[e._v("Доход")]),r("div",{staticClass:"pick__type-item right",attrs:{"data-type-record":"Расход"}},[e._v("Расход")])])]),r("div",{staticClass:"list-header"},[e.isEmptyList?r("div",{staticClass:"empty-list"},[e._v("Список записей пуст")]):r("div",[r("table",[e._m(0),r("tbody",e._l(e.pageItems,(function(e){return r("record-item",{key:e.id,attrs:{record:e}})})),1)]),r("pagination",{attrs:{pagesAmount:e.pageCount,page:e.page},on:{currentPage:e.updateList}})],1)])])},qt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("№")]),r("th",[e._v("Счет")]),r("th",[e._v("Категория")]),r("th",[e._v("Тип")]),r("th",[e._v("Дата")]),r("th",[e._v("Описание")]),r("th",[e._v("Сумма")]),r("th",[e._v("Действие")])])])}],Ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"inner"},[r("td",[e._v(e._s(e.record.id))]),r("td",[e._v(e._s(e.record.bill))]),r("td",[e._v(e._s(e.record.category))]),r("td",{class:{income:"Доход"===e.record.type,outcome:"Расход"===e.record.type}},[r("span",[e._v(e._s(e.record.type))])]),r("td",[e._v(e._s(e.record.date))]),r("td",[e._v(e._s(e.record.description))]),r("td",[e._v(e._s(e.record.sum))]),r("td",[r("div",{staticClass:"td-btn"},[r("edit-button",{staticClass:"edit__btn",on:{clickButton:e.editRecord}}),r("delete-button",{staticClass:"remove__btn",on:{clickButton:e.confirm}})],1)])])},Jt=[],Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"row"},[e._m(0),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.bill,expression:"candidate.bill"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"bill",t.target.multiple?r:r[0])}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[e._m(1),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.type,expression:"candidate.type"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"type",t.target.multiple?r:r[0])}}},[r("option",[e._v("Доход")]),r("option",[e._v("Расход")])])]),r("div",{staticClass:"row"},[e._m(2),r("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.category,expression:"candidate.category"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"category",t.target.multiple?r:r[0])}}},e._l(e.availableCategories,(function(t){return r("option",{key:t.id},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.sumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.sum,expression:"candidate.sum"}],attrs:{type:"text",required:""},domProps:{value:e.candidate.sum},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"sum",t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.date,expression:"candidate.date"}],attrs:{type:"date",required:""},domProps:{value:e.candidate.date},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"date",t.target.value)},e.resetDateError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Описание")]),r("span",{staticClass:"error"},[e._v(e._s(e.descriptionError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.description,expression:"candidate.description"}],attrs:{type:"text"},domProps:{value:e.candidate.description},on:{input:[function(t){t.target.composing||e.$set(e.candidate,"description",t.target.value)},e.resetDescriptionError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},zt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Счет")]),r("span",{staticClass:"error"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Тип")]),r("span",{staticClass:"error"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"label"},[r("label",[e._v("Категория")]),r("span",{staticClass:"error"})])}],Kt={name:"EditRecordForm",props:["record"],computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllBills","getAllCategories","getFormData","getSelectedRecord"])),{},{availableCategories:function(){var e=this;return this.getAllCategories.filter((function(t){return t.type==e.candidate.type}))}}),data:function(){return{candidate:{id:0,bill:"",type:"",category:"",date:"",sum:0,description:""},sumError:"",dateError:"",descriptionError:""}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changePopupForm"])),Object(y["b"])(["getBillsData","putRecordById"])),{},{formHandler:function(){if(this.checkFormData()){var e={id:this.candidate.id,record:{bill:this.candidate.bill,type:this.candidate.type,category:this.candidate.category,date:this.candidate.date,sum:this.candidate.sum,description:this.candidate.description}};this.putRecordById(e),this.$emit("hideForm",!0),this.changePopupForm(!1)}},checkFormData:function(){return!!(this.candidate.bill&&this.candidate.type&&this.candidate.category)&&(this.candidate.description.length>20&&(this.descriptionError="максимум 20 символов"),this.candidate.date||(this.dateError="выберите дату"),isNaN(this.candidate.sum)&&(this.sumError="только число"),!(this.sumError||this.dateError||this.descriptionError))},resetSumError:function(){this.sumError=""},resetDateError:function(){this.dateError=""},resetDescriptionError:function(){this.descriptionError=""}}),watch:{getSelectedRecord:function(){this.candidate=Object(b["a"])({},this.getSelectedRecord)}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getBillsData();case 1:case"end":return t.stop()}}),t)})))()}},Zt=Kt,Gt=Object(u["a"])(Zt,Yt,zt,!1,null,null,null),Qt=Gt.exports,Vt={components:{EditRecordForm:Qt},name:"RecordItem",props:{record:{type:Object,required:!0}},computed:Object(y["c"])(["getConfirmResult"]),methods:Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changePopupForm","setConfirmModalText","setSelectedRecord"])),{},{editRecord:function(){this.setSelectedRecord(this.record),this.changePopupForm(!0)},confirm:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.setConfirmModalText("Вы уверенны?");case 2:t.setSelectedRecord(t.record);case 3:case"end":return e.stop()}}),e)})))()}})},Wt=Vt,Xt=(r("35c4"),Object(u["a"])(Wt,Ut,Jt,!1,null,"7ba42e4a",null)),er=Xt.exports,tr={name:"Records",components:{RecordItem:er},mixins:[q],data:function(){return{currentPage:1,bills:[],selectedBill:0,topActive:!0,bottomActive:!0,id:0,billName:"Все",records:[],typeCome:"Все",selectedRecord:{}}},computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllBills","getAllRecords","getMaxPageItems","isPopupForm","getMaxPageRecord","getMaxPageItems"])),{},{billSelectHandler:function(){var e=this,t=[],r=this.getAllRecords;return t="Все"===this.billName?r:r.filter((function(t){return t.bill===e.billName})),t},selectByType:function(){var e=this,t=[],r=this.billSelectHandler;return t="Все"===this.typeCome?r:r.filter((function(t){return t.type===e.typeCome})),t},isEmptyList:function(){return 0===this.selectByType.length}}),methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["b"])(["getBillsData","getRecordsData","getRecordsData"])),Object(y["d"])(["changePopupForm","setFormData","setCurrentPageRecord"])),{},{updateList:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.page=e,r.next=3,t.setupPagination(t.selectByType);case 3:case"end":return r.stop()}}),r)})))()},selectTypeHandler:function(e){var t=e.target,r=document.querySelectorAll(".pick__type-item");r.forEach((function(e){e.classList.remove("active")})),t.classList.add("active"),this.typeCome=t.dataset.typeRecord}}),watch:{selectByType:function(){this.setupPagination(this.selectByType)}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getBillsData();case 2:return t.next=4,e.getRecordsData();case 4:return t.next=6,e.getAllRecords;case 6:return e.records=t.sent,t.next=9,e.getAllBills;case 9:return e.bills=t.sent,t.next=12,e.setupPagination(e.selectByType);case 12:case"end":return t.stop()}}),t)})))()}},rr=tr,ar=(r("9395"),Object(u["a"])(rr,Ht,qt,!1,null,"04ff71d9",null)),nr=ar.exports,sr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"transfer-button",on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},[a("img",{attrs:{src:r("d34f"),alt:""}})])},ir=[],cr={name:"CurrencyTransferButton",methods:{clickHandler:function(e){this.$emit("clickButton",{})}}},or=cr,lr=(r("fd58"),Object(u["a"])(or,sr,ir,!1,null,"0e181bee",null)),ur=lr.exports,dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"title"},[e._v("Перевод")]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("С")]),r("span",{staticClass:"error"},[e._v(e._s(e.firstBillError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.firstBill,expression:"firstBill"}],attrs:{required:""},on:{input:e.resetFirstBillError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.firstBill=t.target.multiple?r:r[0]}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("В")]),r("span",{staticClass:"error"},[e._v(e._s(e.secondBillError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.secondBill,expression:"secondBill"}],attrs:{required:""},on:{input:e.resetSecondBillError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.secondBill=t.target.multiple?r:r[0]}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.firstSumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.firstSum,expression:"firstSum"}],attrs:{type:"text",required:""},domProps:{value:e.firstSum},on:{input:[function(t){t.target.composing||(e.firstSum=t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.secondSumError))])]),r("input",{attrs:{type:"text",required:"",disabled:!e.isAvailableRate},domProps:{value:e.secondSum},on:{input:e.secondSumHandler}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Курс")]),r("span",{staticClass:"error"},[e._v(e._s(e.rateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.rate,expression:"rate"}],attrs:{type:"text",required:"",disabled:!e.isAvailableRate},domProps:{value:e.rate},on:{input:[function(t){t.target.composing||(e.rate=t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{type:"date",required:""},domProps:{value:e.date},on:{input:[function(t){t.target.composing||(e.date=t.target.value)},e.resteDateError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},mr=[],pr={name:"TransferCurrencyForm",computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllBills","getCurrencyBySymbol"])),{},{isAvailableRate:function(){var e=!1;if(this.firstBill.currency&&this.secondBill.currency)if(this.firstBill.currency!=this.secondBill.currency){var t=this.getCurrencyBySymbol(this.firstBill.currency).price,r=this.getCurrencyBySymbol(this.secondBill.currency).price,a=r/t;this.rate=a.toFixed(6),e=!0}else this.rate=1;return e}}),data:function(){return{firstBill:"",secondBill:"",firstSum:0,secondSum:0,rate:1,date:"",firstSumTimer:null,secondSumTimer:null,rateTimer:null,firstBillError:"",secondBillError:"",firstSumError:"",secondSumError:"",rateError:"",dateError:"",descriptionError:""}},methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])(["addRecord","addTransfer"])),{},{formHandler:function(){if(this.checkFormData()){this.isAvailableRate||(this.secondSum=this.firstSum);var e={firstBill:this.firstBill.name,secondBill:this.secondBill.name,firstSum:this.firstSum,secondSum:this.secondSum,rate:this.rate,date:this.date};this.addTransfer(e),this.$emit("hideForm",!0),this.resetForm()}},secondSumHandler:function(e){var t=this;this.secondSumTimer&&clearTimeout(this.secondSumTimer),this.resetSecondSumError(),this.secondSumTimer=setTimeout((function(){var r=e.target.value;t.secondSum=r,isNaN(t.secondSum)?t.secondSumError="Только число":t.secondSum<=0?t.secondSumError="Введите число больше нуля":t.rate=(t.secondSum/t.firstSum).toFixed(6)}),1e3)},checkFormData:function(){return this.firstBill?this.secondBill?this.firstBill.name==this.secondBill.name?(this.secondBillError="Счета совпадают",!1):(this.date||(this.dateError="выберите дату"),!(this.firstSumError||this.secondSumError||this.rateError||this.dateError)):(this.secondBillError="Выберете счет",!1):(this.firstBillError="Выберете счет",!1)},resetSumError:function(){},getCurrentData:function(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1;t<10&&(t="0"+t);var r=(new Date).getDate();return r<10&&(r="0"+r),"".concat(e,"-").concat(t,"-").concat(r)},resetForm:function(){this.firstBill="",this.secondBill="",this.firstSum=0,this.secondSum=0,this.rate=1,this.date=this.getCurrentData()},resetFirstBillError:function(){this.firstBillError=""},resetSecondBillError:function(){this.secondBillError=""},resetFirstSumError:function(){this.firstSumError=""},resetSecondSumError:function(){this.secondSumError=""},resetRateError:function(){this.rateError=""},resteDateError:function(){this.dateError=""}}),watch:{firstSum:function(){var e=this;this.firstSumTimer&&clearTimeout(this.firstSumTimer),this.resetFirstSumError(),this.firstSumTimer=setTimeout((function(){isNaN(e.firstSum)?e.firstSumError="Только число":e.firstSum<=0?e.firstSumError="Введите число больше нуля":e.isAvailableRate&&(e.secondSum=(e.firstSum*e.rate).toFixed(2))}),1e3)},rate:function(){var e=this;this.rateTimer&&clearTimeout(this.rateTimer),this.resetRateError(),this.rateTimer=setTimeout((function(){isNaN(e.rate)?e.rateError="Только число":e.rate<=0?e.rateError="Введите число больше нуля":e.secondSum=(e.firstSum*e.rate).toFixed(2)}),1e3)}},mounted:function(){this.date=this.getCurrentData()}},fr=pr,vr=Object(u["a"])(fr,dr,mr,!1,null,null,null),hr=vr.exports,gr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-form"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.formHandler.apply(null,arguments)}}},[r("div",{staticClass:"title"},[e._v("Перевод")]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("С")]),r("span",{staticClass:"error"},[e._v(e._s(e.firstBillError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.firstBill,expression:"firstBill"}],attrs:{required:""},on:{input:e.resetFirstBillError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.firstBill=t.target.multiple?r:r[0]}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("В")]),r("span",{staticClass:"error"},[e._v(e._s(e.secondBillError))])]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.secondBill,expression:"secondBill"}],attrs:{required:""},on:{input:e.resetSecondBillError,change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.secondBill=t.target.multiple?r:r[0]}}},e._l(e.getAllBills,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])})),0)]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.firstSumError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.firstSum,expression:"firstSum"}],attrs:{type:"text",required:""},domProps:{value:e.firstSum},on:{input:[function(t){t.target.composing||(e.firstSum=t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Сумма")]),r("span",{staticClass:"error"},[e._v(e._s(e.secondSumError))])]),r("input",{attrs:{type:"text",required:"",disabled:!e.isAvailableRate},domProps:{value:e.secondSum},on:{input:e.secondSumHandler}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Курс")]),r("span",{staticClass:"error"},[e._v(e._s(e.rateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.rate,expression:"rate"}],attrs:{type:"text",required:"",disabled:!e.isAvailableRate},domProps:{value:e.rate},on:{input:[function(t){t.target.composing||(e.rate=t.target.value)},e.resetSumError]}})]),r("div",{staticClass:"row"},[r("div",{staticClass:"label"},[r("label",[e._v("Дата")]),r("span",{staticClass:"error"},[e._v(e._s(e.dateError))])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{type:"date",required:""},domProps:{value:e.date},on:{input:[function(t){t.target.composing||(e.date=t.target.value)},e.resteDateError]}})]),r("button",{staticClass:"row btn",attrs:{type:"submit"}},[e._v(" Изменить ")])])])},br=[],yr={name:"EditTransferForm",props:{firstRecord:{type:Object,required:!0},secondRecord:{ype:Object,required:!0}},computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["getAllBills","getCurrencyBySymbol"])),{},{isAvailableRate:function(){var e=!1;if(this.firstBill.currency&&this.secondBill.currency)if(this.firstBill.currency!=this.secondBill.currency){var t=this.getCurrencyBySymbol(this.firstBill.currency).price,r=this.getCurrencyBySymbol(this.secondBill.currency).price,a=r/t;this.rate=a.toFixed(6),e=!0}else this.rate=1;return e}}),data:function(){return{firstBill:"",secondBill:"",firstSum:0,secondSum:0,rate:1,date:"",firstSumTimer:null,secondSumTimer:null,rateTimer:null,firstBillError:"",secondBillError:"",firstSumError:"",secondSumError:"",rateError:"",dateError:"",descriptionError:""}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changePopupForm"])),Object(y["b"])(["addRecord","putTransfer"])),{},{formHandler:function(){if(this.checkFormData()){this.isAvailableRate||(this.secondSum=this.firstSum);var e={firstRecordId:this.firstRecord.id,secondRecordId:this.secondRecord.id,firstBill:this.firstBill.name,secondBill:this.secondBill.name,firstSum:this.firstSum,secondSum:this.secondSum,rate:this.rate,date:this.date};this.putTransfer(e),this.$emit("hideForm",!0),this.changePopupForm(!1),this.resetForm()}},secondSumHandler:function(e){var t=this;this.secondSumTimer&&clearTimeout(this.secondSumTimer),this.resetSecondSumError(),this.secondSumTimer=setTimeout((function(){var r=e.target.value;t.secondSum=r,isNaN(t.secondSum)?t.secondSumError="Только число":t.secondSum<=0?t.secondSumError="Введите число больше нуля":t.rate=(t.secondSum/t.firstSum).toFixed(6)}),1e3)},checkFormData:function(){return this.firstBill?this.secondBill?this.firstBill.name==this.secondBill.name?(this.secondBillError="Счета совпадают",!1):(this.date||(this.dateError="выберите дату"),!(this.firstSumError||this.secondSumError||this.rateError||this.dateError)):(this.secondBillError="Выберете счет",!1):(this.firstBillError="Выберете счет",!1)},resetSumError:function(){},getCurrentData:function(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1;t<10&&(t="0"+t);var r=(new Date).getDate();return r<10&&(r="0"+r),"".concat(e,"-").concat(t,"-").concat(r)},resetForm:function(){this.firstBill="",this.secondBill="",this.firstSum=0,this.secondSum=0,this.rate=1,this.date=this.getCurrentData()},resetFirstBillError:function(){this.firstBillError=""},resetSecondBillError:function(){this.secondBillError=""},resetFirstSumError:function(){this.firstSumError=""},resetSecondSumError:function(){this.secondSumError=""},resetRateError:function(){this.rateError=""},resteDateError:function(){this.dateError=""}}),watch:{firstRecord:function(){var e=this;console.log(this.firstRecord);var t=this.getAllBills;this.firstBill=t.find((function(t){return t.name==e.firstRecord.bill})),this.firstSum=this.firstRecord.sum,this.date=this.firstRecord.date,this.rate=this.firstRecord.transfer.rate},secondRecord:function(){var e=this;console.log(this.secondRecord);var t=this.getAllBills;this.secondBill=t.find((function(t){return t.name==e.secondRecord.bill})),this.secondSum=this.secondRecord.sum,this.date=this.secondRecord.date,this.rate=this.secondRecord.transfer.rate},firstSum:function(){var e=this;this.firstSumTimer&&clearTimeout(this.firstSumTimer),this.resetFirstSumError(),this.firstSumTimer=setTimeout((function(){isNaN(e.firstSum)?e.firstSumError="Только число":e.firstSum<=0?e.firstSumError="Введите число больше нуля":e.isAvailableRate&&(e.secondSum=(e.firstSum*e.rate).toFixed(2))}),1e3)},rate:function(){var e=this;this.rateTimer&&clearTimeout(this.rateTimer),this.resetRateError(),this.rateTimer=setTimeout((function(){isNaN(e.rate)?e.rateError="Только число":e.rate<=0?e.rateError="Введите число больше нуля":e.secondSum=(e.firstSum*e.rate).toFixed(2)}),1e3)}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.getAllBills,e.firstBill=r.find((function(t){return t.name==e.firstRecord.bill})),e.firstSum=e.firstRecord.sum,e.secondBill=r.find((function(t){return t.name==e.secondRecord.bill})),e.secondSum=e.secondRecord.sum,e.date=e.firstRecord.date;case 6:case"end":return t.stop()}}),t)})))()}},_r=yr,Cr=Object(u["a"])(_r,gr,br,!1,null,null,null),wr=Cr.exports,xr={components:{CreateRecordForm:Mt,Records:nr,CreateModal:I,EditRecordForm:Qt,CurrencyTransferButton:ur,TransferCurrencyForm:hr,EditTransferForm:wr},name:"RecordHandler",computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])(["isCreateForm","isPopupForm","getSelectedRecord","getRecordById"])),{},{showEditRecordForm:function(){return!(!this.isEditRecordForm||!this.isPopupForm)},showTransferForm:function(){return!(!this.isEditTransferForm||!this.isPopupForm)}}),data:function(){return{btnActive:!1,createTransferForm:!1,isEditRecordForm:!1,isEditTransferForm:!1,firstRecord:{},secondRecord:{}}},methods:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changeCreateForm"])),Object(y["b"])(["removeRecordById","removeTransfer"])),{},{createForm:function(){this.changeCreateForm(!0)},enterTransferForm:function(){this.createTransferForm=!0},closeTranserForm:function(e){e&&(this.createTransferForm=!1)},closeEditRecordForm:function(e){e&&(this.isEditRecordForm=!1)},closeEditTransferForm:function(e){e&&(this.isEditTransferForm=!1)},removeRecord:function(e){if(e){var t=this.getSelectedRecord.id;this.getSelectedRecord.transfer?this.removeTransfer(this.getSelectedRecord):this.removeRecordById(t)}}}),watch:{isPopupForm:function(){var e=this.getSelectedRecord;if(this.isPopupForm&&(this.isEditRecordForm=!1),e.transfer){this.isEditRecordForm=!1;var t=e.transfer.firstRecordId,r=e.transfer.secondRecordId;t&&r?(this.isEditTransferForm=!0,this.firstRecord=this.getRecordById(t),this.secondRecord=this.getRecordById(r)):this.isEditTransferForm=!1}else this.isEditTransferForm=!1,this.isEditRecordForm=!0}}},Er=xr,kr=Object(u["a"])(Er,At,Dt,!1,null,"56b33304",null),jr=kr.exports,Or={components:{CategoryHandler:rt,BalanceHandler:B,CurrencyHandler:Pt,RecordHandler:jr,BillHandler:_e},name:"MainContent",data:function(){return{menuId:"balance"}},methods:{menuListener:function(e){var t=e.target,r=document.querySelectorAll(".menu__item");t.classList.contains("menu__item")&&(r.forEach((function(e){e.classList.remove("active")})),t.classList.add("active"),this.menuId=t.dataset.id)}}},Rr=Or,Br=(r("0995"),Object(u["a"])(Rr,p,f,!1,null,"6060f79c",null)),Sr=Br.exports,Fr={name:"App",components:{Header:m,MainContent:Sr}},Pr=Fr,Ar=(r("5c0b"),Object(u["a"])(Pr,n,s,!1,null,null,null)),Dr=Ar.exports,Nr={state:{bills:[],selectedBill:{name:"",currency:"",records:[],id:1}},getters:{getAllBills:function(e){return e.bills},getBillById:function(e){return function(t){var r=e.bills.filter((function(e){return e.id===t}));return r[0]}},getSelectedBill:function(e){return e.selectedBill}},mutations:{updateBills:function(e,t){e.bills=t},setSelectedBill:function(e,t){e.selectedBill=t}},actions:{getBillsData:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getters,r=e.commit,t.prev=1,t.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/bills"));case 4:if(a=t.sent,!a.ok){t.next=12;break}return t.next=8,a.json();case 8:n=t.sent,r("updateBills",n),t.next=13;break;case 12:console.error("server error url: ".concat(a.url," status: ").concat(a.status));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},addBill:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,n=JSON.stringify(t),r.next=5,fetch("".concat("https://mybudgetproject.herokuapp.com","/bills"),{method:"POST",headers:{"Content-type":"application/json"},body:n});case 5:if(s=r.sent,!s.ok){r.next=11;break}return r.next=9,a("getBillsData");case 9:r.next=13;break;case 11:console.error("server error url: ".concat(s.url," status: ").concat(s.status)),console.log("data in JSON: ".concat(jsonData));case 13:r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](1),console.log(r.t0);case 18:case"end":return r.stop()}}),r,null,[[1,15]])})))()},removeBillById:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,n=e.getters,r.prev=1,s=n.getBillById(t),r.next=5,fetch("".concat("https://mybudgetproject.herokuapp.com","/bills/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 5:if(i=r.sent,!i.ok){r.next=13;break}return r.next=9,a("removeRecordsByBill",s.name);case 9:return r.next=11,a("getBillsData");case 11:r.next=15;break;case 13:console.error("server error url: ".concat(i.url," status: ").concat(i.status)),console.log("data in JSON: ".concat(jsonData));case 15:r.next=20;break;case 17:r.prev=17,r.t0=r["catch"](1),console.log(r.t0);case 20:case"end":return r.stop()}}),r,null,[[1,17]])})))()},removeBillsByCurrency:{handler:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.getters,n=e.dispatch,r.prev=1,r.next=4,a.getAllBills;case 4:s=r.sent,i=s.filter((function(e){return e.currency===t})),i.forEach(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n("removeBillById",t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()},root:!0},changeCurrencyCode:{handler:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.oldName&&t.newName){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,a.getAllBills;case 6:s=r.sent,i=s.filter((function(e){return e.currency==t.oldName})),i.forEach(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(r){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={name:r.name,currency:t.newName,startBalance:r.startBalance},s={id:r.id,bill:a},e.next=4,n("putBillById",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()},root:!0},putBillById:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i,c,o,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.bill){r.next=4;break}return r.abrupt("return");case 4:if(s=a.getAllBills,i=s.filter((function(e){return e.id==t.id})),0!=i.length){r.next=8;break}return r.abrupt("return");case 8:return c={oldName:i[0].name,newName:t.bill.name},o=JSON.stringify(t.bill),r.next=12,fetch("".concat("https://mybudgetproject.herokuapp.com","/bills/").concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:o});case 12:if(l=r.sent,!l.ok){r.next=22;break}return r.next=16,n("changeBillName",c);case 16:return r.next=18,n("getBillsData");case 18:return r.next=20,n("refreshBillOnePage");case 20:r.next=24;break;case 22:console.error("server error url: ".concat(l.url," status: ").concat(l.status)),console.log("data in JSON: ".concat(o));case 24:r.next=29;break;case 26:r.prev=26,r.t0=r["catch"](1),console.log(r.t0);case 29:case"end":return r.stop()}}),r,null,[[1,26]])})))()}}},Tr={state:{categories:[],selectedCategory:{name:"",type:"",id:1}},getters:{getAllCategories:function(e){return e.categories},getCategoryById:function(e){return function(t){var r=e.categories.filter((function(e){return e.id===t}));return r[0]}},getSelectedCategory:function(e){return e.selectedCategory}},mutations:{updateCategories:function(e,t){e.categories=t},addNewCategory:function(e,t){e.categories.push(t)},setSelectedCategory:function(e,t){e.selectedCategory=t}},actions:{getCategoriesData:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/categories"));case 4:if(a=t.sent,!a.ok){t.next=12;break}return t.next=8,a.json();case 8:n=t.sent,r("updateCategories",n),t.next=13;break;case 12:console.error("server error url: ".concat(a.url," status: ").concat(a.status));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},addCategory:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,r.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/categories"),{method:"POST",headers:{"Content-type":"application/json"},body:t});case 4:if(n=r.sent,!n.ok){r.next=10;break}return r.next=8,a("getCategoriesData");case 8:r.next=11;break;case 10:console.error("server error url: ".concat(n.url," status: ").concat(n.status));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](1),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[1,13]])})))()},removeCategoryById:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.getters,e.commit,a=e.dispatch,r.prev=1,r.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/categories/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 4:if(n=r.sent,!n.ok){r.next=10;break}return r.next=8,a("getCategoriesData");case 8:r.next=11;break;case 10:console.error("server error url: ".concat(n.url," status: ").concat(n.status));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](1),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[1,13]])})))()},putCategoryById:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.category&&t.id){r.next=4;break}return r.abrupt("return");case 4:return s=a.getCategoryById(t.id),i={oldName:s.name,newName:t.category.name},c=JSON.stringify(t.category),r.next=9,fetch("".concat("https://mybudgetproject.herokuapp.com","/categories/").concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:c});case 9:if(o=r.sent,!o.ok){r.next=17;break}return r.next=13,n("changeCategoryName",i);case 13:return r.next=15,n("getCategoriesData");case 15:r.next=18;break;case 17:console.error("server error url: ".concat(o.url," status: ").concat(o.status));case 18:r.next=23;break;case 20:r.prev=20,r.t0=r["catch"](1),console.log(r.t0);case 23:case"end":return r.stop()}}),r,null,[[1,20]])})))()}}},Ir={state:{currency:[],selectedCurrency:{title:"",symbol:"",price:1,id:1},lastRefresh:0,availableCurrencyList:[{name:"Американский долар",symbol:"USD",price:1},{name:"Канадский долар",symbol:"CAD",price:1},{name:"Австралийский доллар",symbol:"AUD",price:1},{name:"Евро",symbol:"EUR",price:1},{name:"Британский фунт",symbol:"GBP",price:1},{name:"Швейцарский франк",symbol:"CHF",price:1},{name:"Польский злотый",symbol:"PLN",price:1},{name:"Чешская крона",symbol:"CZK",price:1},{name:"Украинская гривна",symbol:"UAH",price:1},{name:"Российский рубль",symbol:"RUB",price:1},{name:"Казахстанський теньге",symbol:"KZT",price:1},{name:"Белорусский рубль",symbol:"BYN",price:1},{name:"Японская иена",symbol:"JPY",price:1},{name:"Китайский юань",symbol:"CNY",price:1},{name:"Индийская рупия",symbol:"INR",price:1},{name:"Турецкая лира",symbol:"TRY",price:1}]},getters:{getAllCurrencies:function(e){return e.currency},getSelectedCurrency:function(e){return e.selectedCurrency},getLastRefresh:function(e){return e.lastRefresh},getCurrencyById:function(e){return function(t){var r=e.currency.filter((function(e){return e.id===t}));return r[0]}},getCurrencyBySymbol:function(e){return function(t){var r=e.currency.filter((function(e){return e.symbol===t}));return r[0]}},getAvailableCurrenceis:function(e){return e.availableCurrencyList}},mutations:{updateCurrency:function(e,t){e.currency=t},setSelectedCurrency:function(e,t){e.selectedCurrency=t},setlastRefresh:function(e,t){e.lastRefresh=t},refreshAvailable:function(e,t){e.vailableCurrencyList=t}},actions:{getCurrencyData:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/currency"));case 4:if(a=t.sent,!a.ok){t.next=12;break}return t.next=8,a.json();case 8:n=t.sent,r("updateCurrency",n),t.next=13;break;case 12:console.error("server error url: ".concat(a.url," status: ").concat(a.status));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},refreshPrice:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,i,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.getters,a=e.commit,t.prev=1,n=Date.now()-r.getLastRefresh,s=r.getAvailableCurrenceis,!(n>36e5)){t.next=18;break}return t.next=7,fetch("https://api.coincap.io/v2/rates");case 7:if(i=t.sent,!i.ok){t.next=17;break}return a("setlastRefresh",Date.now()),t.next=12,i.json();case 12:c=t.sent,o=c.data,s.forEach((function(e){o.forEach((function(t){if(t.symbol===e.symbol){var r=(1/t.rateUsd).toFixed(4);e.price=r}}))})),t.next=18;break;case 17:console.error("server error url: ".concat(i.url," status: ").concat(i.status));case 18:a("refreshAvailable",s),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](1),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[1,21]])})))()},addCurrency:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.dispatch,r.prev=1,t){r.next=4;break}return r.abrupt("return");case 4:return n=JSON.stringify(t),r.next=7,fetch("".concat("https://mybudgetproject.herokuapp.com","/currency"),{method:"POST",headers:{"Content-type":"application/json"},body:n});case 7:if(s=r.sent,!s.ok){r.next=13;break}return r.next=11,a("getCurrencyData");case 11:r.next=14;break;case 13:console.error("server error url: ".concat(s.url," status: ").concat(s.status));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](1),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[1,16]])})))()},removeCurrencyById:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,e.commit,n=e.dispatch,r.prev=1,t){r.next=4;break}return r.abrupt("return");case 4:return s=a.getCurrencyById(t),r.next=7,fetch("".concat("https://mybudgetproject.herokuapp.com","/currency/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 7:if(i=r.sent,!i.ok){r.next=15;break}return r.next=11,n("removeBillsByCurrency",s.symbol);case 11:return r.next=13,n("getCurrencyData");case 13:r.next=16;break;case 15:console.error("server error url: ".concat(i.url," status: ").concat(i.status));case 16:r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](1),console.log(r.t0);case 21:case"end":return r.stop()}}),r,null,[[1,18]])})))()},putCurrencyById:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.currency&&t.id){r.next=4;break}return r.abrupt("return");case 4:return s=a.getCurrencyById(t.id),i={oldName:s.short,newName:t.currency.short},c=JSON.stringify(t.currency),r.next=9,fetch("".concat("https://mybudgetproject.herokuapp.com","/currency/").concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:c});case 9:if(o=r.sent,!o.ok){r.next=18;break}if(i.newName==i.oldName){r.next=14;break}return r.next=14,n("changeCurrencyCode",i);case 14:return r.next=16,n("getCurrencyData");case 16:r.next=19;break;case 18:console.error("server error url: ".concat(o.url," status: ").concat(o.status));case 19:r.next=24;break;case 21:r.prev=21,r.t0=r["catch"](1),console.log(r.t0);case 24:case"end":return r.stop()}}),r,null,[[1,21]])})))()}}},$r={state:{formData:{},popupForm:!1,createForm:!1,confirmModalText:""},getters:{isPopupForm:function(e){return e.popupForm},isCreateForm:function(e){return e.createForm},getFormData:function(e){return e.formData},getConfirmModalText:function(e){return e.confirmModalText}},mutations:{changePopupForm:function(e,t){e.popupForm=t},changeCreateForm:function(e,t){e.createForm=t},setFormData:function(e,t){e.formData=t},setConfirmModalText:function(e,t){e.confirmModalText=t}},actions:{}},Lr={state:{records:[],selectedRecord:{bill:"",type:"Доход",category:"",date:"2020-01-01",sum:0,description:"",id:1}},getters:{getAllRecords:function(e){return e.records},getRecordById:function(e){return function(t){var r=e.records.filter((function(e){return e.id===t}));return r[0]}},getSelectedRecord:function(e){return e.selectedRecord}},mutations:{updateRecords:function(e,t){e.records=t},updateTransfers:function(e,t){e.currencyTransers=t},setSelectedRecord:function(e,t){e.selectedRecord=t}},actions:{getRecordsData:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getters,r=e.commit,t.prev=1,t.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/records"));case 4:if(a=t.sent,!a.ok){t.next=12;break}return t.next=8,a.json();case 8:n=t.sent,r("updateRecords",n),t.next=13;break;case 12:console.error("server error url: ".concat(a.url," status: ").concat(a.status));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},removeRecordsByBill:{handler:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.getters,n=e.dispatch,r.prev=1,r.next=4,a.getAllRecords;case 4:s=r.sent,i=s.filter((function(e){return e.bill===t})),i.forEach(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n("removeRecordById",t.id);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()},root:!0},changeCategoryName:{handler:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.oldName&&t.newName){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,a.getAllRecords;case 6:s=r.sent,i=s.filter((function(e){return e.category==t.oldName})),i.forEach(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(r){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={bill:r.bill,category:t.newName,type:r.type,date:r.date,sum:r.sum,description:r.description},s={id:r.id,record:a},e.next=4,n("putRecordById",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()},root:!0},changeBillName:{handler:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.getters,n=e.dispatch,r.prev=1,t.oldName&&t.newName){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,a.getAllRecords;case 6:s=r.sent,i=s.filter((function(e){return e.bill==t.oldName})),i.forEach(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(r){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={bill:t.newName,category:r.category,type:r.type,date:r.date,sum:r.sum,description:r.description},s={id:r.id,record:a},e.next=4,n("putRecordById",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](1),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()},root:!0},addRecord:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.dispatch,r.prev=1,t){r.next=4;break}return r.abrupt("return");case 4:return n=JSON.stringify(t),r.next=7,fetch("".concat("https://mybudgetproject.herokuapp.com","/records"),{method:"POST",headers:{"Content-type":"application/json"},body:n});case 7:if(s=r.sent,!s.ok){r.next=13;break}return r.next=11,a("getRecordsData");case 11:r.next=14;break;case 13:console.error("server error url: ".concat(s.url," status: ").concat(s.status));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](1),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[1,16]])})))()},addTransfer:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i,c,o,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,l=function(){return l=Object(g["a"])(regeneratorRuntime.mark((function e(t){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=JSON.stringify(t),e.next=3,fetch("".concat("https://mybudgetproject.herokuapp.com","/records"),{method:"POST",headers:{"Content-type":"application/json"},body:r});case 3:if(a=e.sent,!a.ok){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return console.error("server error url: ".concat(a.url," status: ").concat(a.status)),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)},o=function(e){return l.apply(this,arguments)},n={record:{bill:t.firstBill,sum:t.firstSum,category:"Перевод",type:"Расход",date:t.date,transfer:{rate:t.rate,firstRecordId:1,secondRecordId:1}}},s={record:{bill:t.secondBill,sum:t.secondSum,category:"Перевод",type:"Доход",date:t.date,transfer:{rate:t.rate,firstRecordId:1,secondRecordId:1}}},r.next=8,o(n.record);case 8:return i=r.sent,r.next=11,o(s.record);case 11:return c=r.sent,n.id=i.id,n.record.transfer.firstRecordId=i.id,n.record.transfer.secondRecordId=c.id,s.id=c.id,s.record.transfer.firstRecordId=i.id,s.record.transfer.secondRecordId=c.id,r.t0=a,r.next=21,n;case 21:return r.t1=r.sent,r.next=24,(0,r.t0)("putRecordById",r.t1);case 24:return r.t2=a,r.next=27,s;case 27:return r.t3=r.sent,r.next=30,(0,r.t2)("putRecordById",r.t3);case 30:return r.next=32,a("getRecordsData");case 32:r.next=37;break;case 34:r.prev=34,r.t4=r["catch"](1),console.log(r.t4);case 37:case"end":return r.stop()}}),r,null,[[1,34]])})))()},removeRecordById:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,r.next=4,fetch("".concat("https://mybudgetproject.herokuapp.com","/records/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json"}});case 4:if(n=r.sent,!n.ok){r.next=10;break}return r.next=8,a("getRecordsData");case 8:r.next=11;break;case 10:console.error("server error url: ".concat(n.url," status: ").concat(n.status));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](1),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[1,13]])})))()},removeTransfer:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,r.next=4,a("removeRecordById",t.transfer.firstRecordId);case 4:return r.next=6,a("removeRecordById",t.transfer.secondRecordId);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},putRecordById:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.dispatch,r.prev=1,t.record){r.next=4;break}return r.abrupt("return");case 4:return n=JSON.stringify(t.record),r.next=7,fetch("".concat("https://mybudgetproject.herokuapp.com","/records/").concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:n});case 7:if(s=r.sent,!s.ok){r.next=13;break}return r.next=11,a("getRecordsData");case 11:r.next=14;break;case 13:console.error("server error url: ".concat(s.url," status: ").concat(s.status));case 14:r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](1),console.log(r.t0);case 19:case"end":return r.stop()}}),r,null,[[1,16]])})))()},putTransfer:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,r.prev=1,n={record:{bill:t.firstBill,sum:t.firstSum,category:"Перевод",type:"Расход",date:t.date,transfer:{rate:t.rate,firstRecordId:t.firstRecordId,secondRecordId:t.secondRecordId}},id:t.firstRecordId},s={record:{bill:t.secondBill,sum:t.secondSum,category:"Перевод",type:"Доход",date:t.date,transfer:{rate:t.rate,firstRecordId:t.firstRecordId,secondRecordId:t.secondRecordId}},id:t.secondRecordId},r.next=6,a("putRecordById",n);case 6:return r.next=8,a("putRecordById",s);case 8:return r.next=10,a("getRecordsData");case 10:r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](1),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[1,12]])})))()}}},Mr={state:{isShowLoader:!1},getters:{isShowLoader:function(e){var t=e.isShowLoader;return t}},mutations:{setLoader:function(e,t){e.isShowLoader=t}},actions:{toggleLoader:function(e,t){var r=e.commit;r("setLoader",t)}}};a["a"].use(y["a"]);var Hr=new y["a"].Store({modules:{bill:Nr,categories:Tr,currency:Ir,modal:$r,record:Lr,loader:Mr}}),qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isShowLoader?r("div",{staticClass:"loader-wrapper"},[e._m(0)]):e._e()},Ur=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loader"},[r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"1"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"2"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"3"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"4"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"5"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"6"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"7"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"8"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"9"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"10"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"11"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"12"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"13"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"14"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"15"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"16"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"17"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"18"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"19"}}),r("div",{staticClass:"loader__blocks",staticStyle:{"--i":"20"}})])}],Jr={name:"Loader",computed:Object(b["a"])({},Object(y["c"])(["isShowLoader"]))},Yr=Jr,zr=(r("98e9"),Object(u["a"])(Yr,qr,Ur,!1,null,"ec52d5c0",null)),Kr=zr.exports,Zr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delete-btn",on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},[a("img",{staticClass:"remove",attrs:{src:r("2c46")}})])},Gr=[],Qr={name:"DeleteButton",methods:{clickHandler:function(e){this.$emit("clickButton",{})}}},Vr=Qr,Wr=(r("5a75"),Object(u["a"])(Vr,Zr,Gr,!1,null,"0c662c95",null)),Xr=Wr.exports,ea=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-button",on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},[e._v(" Изменить ")])},ta=[],ra={name:"EditButton",methods:{clickHandler:function(e){this.$emit("clickButton",{})}}},aa=ra,na=(r("284a"),Object(u["a"])(aa,ea,ta,!1,null,"244358e4",null)),sa=na.exports,ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isShow?a("div",[a("div",{staticClass:"pagination"},[a("div",{staticClass:"pagination__nuv",on:{click:e.firstPage}},[a("img",{attrs:{src:r("d459"),alt:""}})]),a("div",{staticClass:"pagination__nuv",on:{click:e.prevPage}},[a("img",{attrs:{src:r("d5e2"),alt:""}})]),e._l(e.showPageNumers,(function(t){return a("div",{key:t,staticClass:"pagination__item",class:{current_page:e.currentPage===t},on:{click:function(r){return e.changePage(t)}}},[e._v(" "+e._s(t)+" ")])})),a("div",{staticClass:"pagination__nuv",on:{click:e.nextPage}},[a("img",{attrs:{src:r("35fe"),alt:""}})]),a("div",{staticClass:"pagination__nuv",on:{click:e.lastPage}},[a("img",{attrs:{src:r("da61"),alt:""}})])],2)]):e._e()},ca=[],oa=(r("a9e3"),{name:"Pagination",props:{pagesAmount:{type:Number,required:!0},page:{type:Number,required:!0}},computed:{isShow:function(){return!(this.pagesAmount<2)},showPageNumers:function(){var e=[],t=this.page;if(t<4){var r=1;while(1){if(r>this.pagesAmount)break;if(r>7)break;e.push(r),r++}}else{var a=t-3,n=t+3,s=1;while(1){if(s>this.pagesAmount)break;if(s>n)break;s>=a&&e.push(s),s++}}return e}},data:function(){return{currentPage:this.page}},methods:{changePage:function(e){this.currentPage=e},prevPage:function(){this.currentPage>1?this.currentPage--:this.currentPage=1},nextPage:function(){this.currentPage<this.pagesAmount?this.currentPage++:this.currentPage=this.pagesAmount},firstPage:function(){this.currentPage=1},lastPage:function(){this.currentPage=this.pagesAmount}},watch:{currentPage:function(){this.$emit("currentPage",this.currentPage)},page:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.currentPage=e.page;case 1:case"end":return t.stop()}}),t)})))()}}}),la=oa,ua=(r("0b13"),Object(u["a"])(la,ia,ca,!1,null,null,null)),da=ua.exports,ma=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal",class:{show:e.active},on:{click:e.clickListener}},[r("div",{staticClass:"modal__content"},[r("div",{staticClass:"modal-close__btn"},[e._v("x")]),e._t("default")],2)])},pa=[],fa={name:"Modal",computed:{active:function(){return this.$store.getters.isPopupForm}},methods:Object(b["a"])(Object(b["a"])({},Object(y["d"])(["changePopupForm"])),{},{closeModal:function(){this.changePopupForm(!1),this.$emit("closeForm",!0)},clickListener:function(e){var t=e.target;t&&(t.classList.contains("modal")||t.classList.contains("modal-close__btn"))&&this.closeModal()}}),mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.addEventListener("keydown",(function(t){"Escape"==t.code&&e.closeModal()}));case 1:case"end":return t.stop()}}),t)})))()},watch:{active:function(){this.active?document.documentElement.style.overflow="hidden":document.documentElement.style.overflow="auto"}}},va=fa,ha=Object(u["a"])(va,ma,pa,!1,null,"ea014110",null),ga=ha.exports,ba=[Kr,ue,Xr,sa,da,ga,We,I];a["a"].config.productionTip=!1,ba.forEach((function(e){a["a"].component(e.name,e)})),new a["a"]({store:Hr,render:function(e){return e(Dr)}}).$mount("#app")},"5a75":function(e,t,r){"use strict";r("bff4")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"6b14":function(e,t,r){},"756d":function(e,t,r){},9395:function(e,t,r){"use strict";r("dd4c")},"94cc":function(e,t,r){"use strict";r("756d")},"97ee":function(e,t,r){},"98e9":function(e,t,r){"use strict";r("bedc")},"9c0c":function(e,t,r){},af35:function(e,t,r){},bedc:function(e,t,r){},bff4:function(e,t,r){},c3d4:function(e,t,r){e.exports=r.p+"img/triangle.df9e8171.svg"},c9a0:function(e,t,r){},cd60:function(e,t,r){},ce4f:function(e,t,r){},d34f:function(e,t,r){e.exports=r.p+"img/transfer.1a5dee49.svg"},d459:function(e,t,r){e.exports=r.p+"img/start.30c67d5a.svg"},d5e2:function(e,t,r){e.exports=r.p+"img/prev.95a80410.svg"},da61:function(e,t,r){e.exports=r.p+"img/end.5361f961.svg"},dd4c:function(e,t,r){},e45c:function(e,t,r){"use strict";r("5118")},ee25:function(e,t,r){"use strict";r("c9a0")},f3f4:function(e,t,r){e.exports=r.p+"img/refresh.a7cae2c6.svg"},f68d:function(e,t,r){},fd58:function(e,t,r){"use strict";r("97ee")}});
//# sourceMappingURL=app.511690fc.js.map